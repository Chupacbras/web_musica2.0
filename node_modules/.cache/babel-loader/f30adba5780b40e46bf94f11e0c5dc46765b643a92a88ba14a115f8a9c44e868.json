{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getRequiredScripts\", {\n  enumerable: true,\n  get: function () {\n    return getRequiredScripts;\n  }\n});\nconst _reactdom = /*#__PURE__*/_interop_require_default(require(\"react-dom\"));\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction getRequiredScripts(buildManifest, assetPrefix, SRIManifest, qs, nonce) {\n  let preinitScripts;\n  let preinitScriptCommands = [];\n  let bootstrapScript = \"\";\n  const files = buildManifest.rootMainFiles;\n  if (files.length === 0) {\n    throw new Error(\"Invariant: missing bootstrap script. This is a bug in Next.js\");\n  }\n  if (SRIManifest) {\n    bootstrapScript = {\n      src: `${assetPrefix}/_next/` + files[0] + qs,\n      integrity: SRIManifest[files[0]]\n    };\n    for (let i = 1; i < files.length; i++) {\n      const src = `${assetPrefix}/_next/` + files[i] + qs;\n      const integrity = SRIManifest[files[i]];\n      preinitScriptCommands.push(src, integrity);\n    }\n    preinitScripts = () => {\n      // preinitScriptCommands is a double indexed array of src/integrity pairs\n      for (let i = 0; i < preinitScriptCommands.length; i += 2) {\n        _reactdom.default.preinit(preinitScriptCommands[i], {\n          as: \"script\",\n          integrity: preinitScriptCommands[i + 1],\n          nonce\n        });\n      }\n    };\n  } else {\n    bootstrapScript = `${assetPrefix}/_next/` + files[0] + qs;\n    for (let i = 1; i < files.length; i++) {\n      const src = `${assetPrefix}/_next/` + files[i] + qs;\n      preinitScriptCommands.push(src);\n    }\n    preinitScripts = () => {\n      // preinitScriptCommands is a singled indexed array of src values\n      for (let i = 0; i < preinitScriptCommands.length; i++) {\n        _reactdom.default.preinit(preinitScriptCommands[i], {\n          as: \"script\",\n          nonce\n        });\n      }\n    };\n  }\n  return [preinitScripts, bootstrapScript];\n}","map":{"version":3,"names":["getRequiredScripts","buildManifest","assetPrefix","SRIManifest","qs","nonce","preinitScripts","preinitScriptCommands","bootstrapScript","files","rootMainFiles","length","Error","src","integrity","i","push","_reactdom","default","preinit","as"],"sources":["../../../src/server/app-render/required-scripts.tsx"],"sourcesContent":[null],"mappings":";;;;;+BAIgB;;;WAAAA,kBAAA;;;gEAFK;;;;;;AAEd,SAASA,mBACdC,aAA4B,EAC5BC,WAAmB,EACnBC,WAA+C,EAC/CC,EAAU,EACVC,KAAyB;EAEzB,IAAIC,cAAA;EACJ,IAAIC,qBAAA,GAAkC,EAAE;EACxC,IAAIC,eAAA,GAA+D;EACnE,MAAMC,KAAA,GAAQR,aAAA,CAAcS,aAAa;EACzC,IAAID,KAAA,CAAME,MAAM,KAAK,GAAG;IACtB,MAAM,IAAIC,KAAA,CACR;EAEJ;EACA,IAAIT,WAAA,EAAa;IACfK,eAAA,GAAkB;MAChBK,GAAA,EAAM,GAAEX,WAAY,SAAQ,GAAGO,KAAK,CAAC,EAAE,GAAGL,EAAA;MAC1CU,SAAA,EAAWX,WAAW,CAACM,KAAK,CAAC,EAAE;IACjC;IACA,KAAK,IAAIM,CAAA,GAAI,GAAGA,CAAA,GAAIN,KAAA,CAAME,MAAM,EAAEI,CAAA,IAAK;MACrC,MAAMF,GAAA,GAAO,GAAEX,WAAY,SAAQ,GAAGO,KAAK,CAACM,CAAA,CAAE,GAAGX,EAAA;MACjD,MAAMU,SAAA,GAAYX,WAAW,CAACM,KAAK,CAACM,CAAA,CAAE,CAAC;MACvCR,qBAAA,CAAsBS,IAAI,CAACH,GAAA,EAAKC,SAAA;IAClC;IACAR,cAAA,GAAiBA,CAAA;MACf;MACA,KAAK,IAAIS,CAAA,GAAI,GAAGA,CAAA,GAAIR,qBAAA,CAAsBI,MAAM,EAAEI,CAAA,IAAK,GAAG;QACxDE,SAAA,CAAAC,OAAQ,CAACC,OAAO,CAACZ,qBAAqB,CAACQ,CAAA,CAAE,EAAE;UACzCK,EAAA,EAAI;UACJN,SAAA,EAAWP,qBAAqB,CAACQ,CAAA,GAAI,EAAE;UACvCV;QACF;MACF;IACF;EACF,OAAO;IACLG,eAAA,GAAmB,GAAEN,WAAY,SAAQ,GAAGO,KAAK,CAAC,EAAE,GAAGL,EAAA;IACvD,KAAK,IAAIW,CAAA,GAAI,GAAGA,CAAA,GAAIN,KAAA,CAAME,MAAM,EAAEI,CAAA,IAAK;MACrC,MAAMF,GAAA,GAAO,GAAEX,WAAY,SAAQ,GAAGO,KAAK,CAACM,CAAA,CAAE,GAAGX,EAAA;MACjDG,qBAAA,CAAsBS,IAAI,CAACH,GAAA;IAC7B;IACAP,cAAA,GAAiBA,CAAA;MACf;MACA,KAAK,IAAIS,CAAA,GAAI,GAAGA,CAAA,GAAIR,qBAAA,CAAsBI,MAAM,EAAEI,CAAA,IAAK;QACrDE,SAAA,CAAAC,OAAQ,CAACC,OAAO,CAACZ,qBAAqB,CAACQ,CAAA,CAAE,EAAE;UACzCK,EAAA,EAAI;UACJf;QACF;MACF;IACF;EACF;EAEA,OAAO,CAACC,cAAA,EAAgBE,eAAA,CAAgB;AAC1C"},"metadata":{},"sourceType":"script","externalDependencies":[]}