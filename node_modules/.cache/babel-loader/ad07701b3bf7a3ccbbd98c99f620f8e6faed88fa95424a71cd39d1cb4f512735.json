{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  isClientComponentEntryModule: null,\n  regexCSS: null,\n  isCSSMod: null,\n  getActions: null,\n  generateActionId: null,\n  encodeToBase64: null,\n  decodeFromBase64: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  isClientComponentEntryModule: function () {\n    return isClientComponentEntryModule;\n  },\n  regexCSS: function () {\n    return regexCSS;\n  },\n  isCSSMod: function () {\n    return isCSSMod;\n  },\n  getActions: function () {\n    return getActions;\n  },\n  generateActionId: function () {\n    return generateActionId;\n  },\n  encodeToBase64: function () {\n    return encodeToBase64;\n  },\n  decodeFromBase64: function () {\n    return decodeFromBase64;\n  }\n});\nconst _crypto = require(\"crypto\");\nconst _constants = require(\"../../../shared/lib/constants\");\nconst imageExtensions = [\"jpg\", \"jpeg\", \"png\", \"webp\", \"avif\", \"ico\", \"svg\"];\nconst imageRegex = new RegExp(`\\\\.(${imageExtensions.join(\"|\")})$`);\nfunction isClientComponentEntryModule(mod) {\n  const rscInfo = mod.buildInfo.rsc;\n  const hasClientDirective = rscInfo == null ? void 0 : rscInfo.isClientRef;\n  const isActionLayerEntry = (rscInfo == null ? void 0 : rscInfo.actions) && (rscInfo == null ? void 0 : rscInfo.type) === _constants.RSC_MODULE_TYPES.client;\n  return hasClientDirective || isActionLayerEntry || imageRegex.test(mod.resource);\n}\nconst regexCSS = /\\.(css|scss|sass)(\\?.*)?$/;\nfunction isCSSMod(mod) {\n  var _mod_loaders;\n  return !!(mod.type === \"css/mini-extract\" || mod.resource && regexCSS.test(mod.resource) || ((_mod_loaders = mod.loaders) == null ? void 0 : _mod_loaders.some(({\n    loader\n  }) => loader.includes(\"next-style-loader/index.js\") || loader.includes(\"mini-css-extract-plugin/loader.js\") || loader.includes(\"@vanilla-extract/webpack-plugin/loader/\"))));\n}\nfunction getActions(mod) {\n  var _mod_buildInfo_rsc, _mod_buildInfo;\n  return (_mod_buildInfo = mod.buildInfo) == null ? void 0 : (_mod_buildInfo_rsc = _mod_buildInfo.rsc) == null ? void 0 : _mod_buildInfo_rsc.actions;\n}\nfunction generateActionId(filePath, exportName) {\n  return (0, _crypto.createHash)(\"sha1\").update(filePath + \":\" + exportName).digest(\"hex\");\n}\nfunction encodeToBase64(obj) {\n  return Buffer.from(JSON.stringify(obj)).toString(\"base64\");\n}\nfunction decodeFromBase64(str) {\n  return JSON.parse(Buffer.from(str, \"base64\").toString(\"utf8\"));\n}","map":{"version":3,"names":["isClientComponentEntryModule","regexCSS","isCSSMod","getActions","generateActionId","encodeToBase64","decodeFromBase64","imageExtensions","imageRegex","RegExp","join","mod","rscInfo","buildInfo","rsc","hasClientDirective","isClientRef","isActionLayerEntry","actions","type","_constants","RSC_MODULE_TYPES","client","test","resource","_mod_loaders","loaders","some","loader","includes","_mod_buildInfo_rsc","_mod_buildInfo","filePath","exportName","_crypto","createHash","update","digest","obj","Buffer","from","JSON","stringify","toString","str","parse"],"sources":["../../../../src/build/webpack/loaders/utils.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;EAMgBA,4BAA4B,WAAAA,CAAA;WAA5BA,4BAAA;;EAaHC,QAAQ,WAAAA,CAAA;WAARA,QAAA;;EAIGC,QAAQ,WAAAA,CAAA;WAARA,QAAA;;EAiBAC,UAAU,WAAAA,CAAA;WAAVA,UAAA;;EAOAC,gBAAgB,WAAAA,CAAA;WAAhBA,gBAAA;;EAMAC,cAAc,WAAAA,CAAA;WAAdA,cAAA;;EAIAC,gBAAgB,WAAAA,CAAA;WAAhBA,gBAAA;;;wBAzDW;2BACM;AAEjC,MAAMC,eAAA,GAAkB,CAAC,OAAO,QAAQ,OAAO,QAAQ,QAAQ,OAAO,MAAM;AAC5E,MAAMC,UAAA,GAAa,IAAIC,MAAA,CAAQ,OAAMF,eAAA,CAAgBG,IAAI,CAAC,IAAK,IAAG;AAE3D,SAASV,6BAA6BW,GAG5C;EACC,MAAMC,OAAA,GAAUD,GAAA,CAAIE,SAAS,CAACC,GAAG;EACjC,MAAMC,kBAAA,GAAqBH,OAAA,oBAAAA,OAAA,CAASI,WAAW;EAC/C,MAAMC,kBAAA,GACJ,CAAAL,OAAA,oBAAAA,OAAA,CAASM,OAAO,KAAI,CAAAN,OAAA,oBAAAA,OAAA,CAASO,IAAI,MAAKC,UAAA,CAAAC,gBAAgB,CAACC,MAAM;EAC/D,OACEP,kBAAA,IAAsBE,kBAAA,IAAsBT,UAAA,CAAWe,IAAI,CAACZ,GAAA,CAAIa,QAAQ;AAE5E;AAEO,MAAMvB,QAAA,GAAW;AAIjB,SAASC,SAASS,GAIxB;MAIGc,YAAA;EAHF,OAAO,CAAC,EACNd,GAAA,CAAIQ,IAAI,KAAK,sBACZR,GAAA,CAAIa,QAAQ,IAAIvB,QAAA,CAASsB,IAAI,CAACZ,GAAA,CAAIa,QAAQ,OAC3CC,YAAA,GAAAd,GAAA,CAAIe,OAAO,qBAAXD,YAAA,CAAaE,IAAI,CACf,CAAC;IAAEC;EAAM,CAAE,KACTA,MAAA,CAAOC,QAAQ,CAAC,iCAChBD,MAAA,CAAOC,QAAQ,CAAC,wCAChBD,MAAA,CAAOC,QAAQ,CAAC,4CACpB;AAEJ;AAEO,SAAS1B,WAAWQ,GAG1B;MACQmB,kBAAA,EAAAC,cAAA;EAAP,QAAOA,cAAA,GAAApB,GAAA,CAAIE,SAAS,sBAAbiB,kBAAA,GAAAC,cAAA,CAAejB,GAAG,qBAAlBgB,kBAAA,CAAoBZ,OAAO;AACpC;AAEO,SAASd,iBAAiB4B,QAAgB,EAAEC,UAAkB;EACnE,OAAO,IAAAC,OAAA,CAAAC,UAAU,EAAC,QACfC,MAAM,CAACJ,QAAA,GAAW,MAAMC,UAAA,EACxBI,MAAM,CAAC;AACZ;AAEO,SAAShC,eAA6BiC,GAAM;EACjD,OAAOC,MAAA,CAAOC,IAAI,CAACC,IAAA,CAAKC,SAAS,CAACJ,GAAA,GAAMK,QAAQ,CAAC;AACnD;AAEO,SAASrC,iBAA+BsC,GAAW;EACxD,OAAOH,IAAA,CAAKI,KAAK,CAACN,MAAA,CAAOC,IAAI,CAACI,GAAA,EAAK,UAAUD,QAAQ,CAAC;AACxD"},"metadata":{},"sourceType":"script","externalDependencies":[]}