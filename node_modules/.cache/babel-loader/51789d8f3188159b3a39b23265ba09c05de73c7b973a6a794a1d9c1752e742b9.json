{"ast":null,"code":"// Polyfill Web Streams for the Node.js runtime.\n\"use strict\";\n\nif (!global.ReadableStream) {\n  // In Node v16, ReadableStream is available natively but under the `stream` namespace.\n  // In Node v18+, it's available under global.\n  if (require(\"stream/web\").ReadableStream) {\n    global.ReadableStream = require(\"stream/web\").ReadableStream;\n  } else {\n    const {\n      ReadableStream\n    } = require(\"next/dist/compiled/@edge-runtime/ponyfill\");\n    global.ReadableStream = ReadableStream;\n  }\n}\nif (!global.TransformStream) {\n  // Same as ReadableStream above.\n  if (require(\"stream/web\").TransformStream) {\n    global.TransformStream = require(\"stream/web\").TransformStream;\n  } else {\n    const {\n      TransformStream\n    } = require(\"next/dist/compiled/@edge-runtime/ponyfill\");\n    global.TransformStream = TransformStream;\n  }\n}","map":{"version":3,"names":["global","ReadableStream","require","TransformStream"],"sources":["../../src/server/node-polyfill-web-streams.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AACA,IAAI,CAACA,MAAA,CAAOC,cAAc,EAAE;EAC1B;EACA;EACA,IAAIC,OAAA,CAAQ,cAAcD,cAAc,EAAE;IACxCD,MAAA,CAAOC,cAAc,GAAGC,OAAA,CAAQ,cAAcD,cAAc;EAC9D,OAAO;IACL,MAAM;MAAEA;IAAc,CAAE,GACtBC,OAAA,CAAQ;IACVF,MAAA,CAAOC,cAAc,GAAGA,cAAA;EAC1B;AACF;AACA,IAAI,CAACD,MAAA,CAAOG,eAAe,EAAE;EAC3B;EACA,IAAID,OAAA,CAAQ,cAAcC,eAAe,EAAE;IACzCH,MAAA,CAAOG,eAAe,GAAGD,OAAA,CAAQ,cAAcC,eAAe;EAChE,OAAO;IACL,MAAM;MAAEA;IAAe,CAAE,GACvBD,OAAA,CAAQ;IACVF,MAAA,CAAOG,eAAe,GAAGA,eAAA;EAC3B;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}