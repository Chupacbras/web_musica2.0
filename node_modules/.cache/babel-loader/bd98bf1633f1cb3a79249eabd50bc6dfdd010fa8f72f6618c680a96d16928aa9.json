{"ast":null,"code":"/* eslint-disable no-redeclare */\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"withPromiseCache\", {\n  enumerable: true,\n  get: function () {\n    return withPromiseCache;\n  }\n});\nfunction withPromiseCache(cache, fn, getKey) {\n  return (...values) => {\n    const key = getKey ? getKey(...values) : values[0];\n    let p = cache.get(key);\n    if (!p) {\n      p = fn(...values);\n      p.catch(() => cache.del(key));\n      cache.set(key, p);\n    }\n    return p;\n  };\n}","map":{"version":3,"names":["withPromiseCache","cache","fn","getKey","values","key","p","get","catch","del","set"],"sources":["../../src/lib/with-promise-cache.ts"],"sourcesContent":[null],"mappings":"AAAA,iCAA+B;;;;;+BAgBf;;;WAAAA,gBAAA;;;AAAT,SAASA,iBACdC,KAA2B,EAC3BC,EAAgC,EAChCC,MAA4B;EAE5B,OAAO,CAAC,GAAGC,MAAA;IACT,MAAMC,GAAA,GAAMF,MAAA,GAASA,MAAA,IAAUC,MAAA,IAAUA,MAAM,CAAC,EAAE;IAClD,IAAIE,CAAA,GAAIL,KAAA,CAAMM,GAAG,CAACF,GAAA;IAClB,IAAI,CAACC,CAAA,EAAG;MACNA,CAAA,GAAIJ,EAAA,IAAME,MAAA;MACVE,CAAA,CAAEE,KAAK,CAAC,MAAMP,KAAA,CAAMQ,GAAG,CAACJ,GAAA;MACxBJ,KAAA,CAAMS,GAAG,CAACL,GAAA,EAAKC,CAAA;IACjB;IACA,OAAOA,CAAA;EACT;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}