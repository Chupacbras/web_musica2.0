{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return getConfig;\n  }\n});\nconst _fs = require(\"fs\");\nconst _json5 = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/json5\"));\nconst _core = require(\"next/dist/compiled/babel/core\");\nconst _corelibconfig = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/babel/core-lib-config\"));\nconst _util = require(\"./util\");\nconst _log = /*#__PURE__*/_interop_require_wildcard(require(\"../../output/log\"));\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nconst nextDistPath = /(next[\\\\/]dist[\\\\/]shared[\\\\/]lib)|(next[\\\\/]dist[\\\\/]client)|(next[\\\\/]dist[\\\\/]pages)/;\nconst fileExtensionRegex = /\\.([a-z]+)$/;\nfunction getCacheCharacteristics(loaderOptions, source, filename) {\n  var _fileExtensionRegex_exec;\n  const {\n    isServer,\n    pagesDir\n  } = loaderOptions;\n  const isPageFile = filename.startsWith(pagesDir);\n  const isNextDist = nextDistPath.test(filename);\n  const hasModuleExports = source.indexOf(\"module.exports\") !== -1;\n  const fileExt = ((_fileExtensionRegex_exec = fileExtensionRegex.exec(filename)) == null ? void 0 : _fileExtensionRegex_exec[1]) || \"unknown\";\n  return {\n    isServer,\n    isPageFile,\n    isNextDist,\n    hasModuleExports,\n    fileExt\n  };\n}\n/**\n * Return an array of Babel plugins, conditioned upon loader options and\n * source file characteristics.\n */\nfunction getPlugins(loaderOptions, cacheCharacteristics) {\n  const {\n    isServer,\n    isPageFile,\n    isNextDist,\n    hasModuleExports\n  } = cacheCharacteristics;\n  const {\n    hasReactRefresh,\n    development\n  } = loaderOptions;\n  const applyCommonJsItem = hasModuleExports ? (0, _core.createConfigItem)(require(\"../plugins/commonjs\"), {\n    type: \"plugin\"\n  }) : null;\n  const reactRefreshItem = hasReactRefresh ? (0, _core.createConfigItem)([require(\"next/dist/compiled/react-refresh/babel\"), {\n    skipEnvCheck: true\n  }], {\n    type: \"plugin\"\n  }) : null;\n  const pageConfigItem = !isServer && isPageFile ? (0, _core.createConfigItem)([require(\"../plugins/next-page-config\")], {\n    type: \"plugin\"\n  }) : null;\n  const disallowExportAllItem = !isServer && isPageFile ? (0, _core.createConfigItem)([require(\"../plugins/next-page-disallow-re-export-all-exports\")], {\n    type: \"plugin\"\n  }) : null;\n  const transformDefineItem = (0, _core.createConfigItem)([require.resolve(\"next/dist/compiled/babel/plugin-transform-define\"), {\n    \"process.env.NODE_ENV\": development ? \"development\" : \"production\",\n    \"typeof window\": isServer ? \"undefined\" : \"object\",\n    \"process.browser\": isServer ? false : true\n  }, \"next-js-transform-define-instance\"], {\n    type: \"plugin\"\n  });\n  const nextSsgItem = !isServer && isPageFile ? (0, _core.createConfigItem)([require.resolve(\"../plugins/next-ssg-transform\")], {\n    type: \"plugin\"\n  }) : null;\n  const commonJsItem = isNextDist ? (0, _core.createConfigItem)(require(\"next/dist/compiled/babel/plugin-transform-modules-commonjs\"), {\n    type: \"plugin\"\n  }) : null;\n  const nextFontUnsupported = (0, _core.createConfigItem)([require(\"../plugins/next-font-unsupported\")], {\n    type: \"plugin\"\n  });\n  return [reactRefreshItem, pageConfigItem, disallowExportAllItem, applyCommonJsItem, transformDefineItem, nextSsgItem, commonJsItem, nextFontUnsupported].filter(Boolean);\n}\nconst isJsonFile = /\\.(json|babelrc)$/;\nconst isJsFile = /\\.js$/;\n/**\n * While this function does block execution while reading from disk, it\n * should not introduce any issues.  The function is only invoked when\n * generating a fresh config, and only a small handful of configs should\n * be generated during compilation.\n */\nfunction getCustomBabelConfig(configFilePath) {\n  if (isJsonFile.exec(configFilePath)) {\n    const babelConfigRaw = (0, _fs.readFileSync)(configFilePath, \"utf8\");\n    return _json5.default.parse(babelConfigRaw);\n  } else if (isJsFile.exec(configFilePath)) {\n    return require(configFilePath);\n  }\n  throw new Error(\"The Next.js Babel loader does not support .mjs or .cjs config files.\");\n}\nlet babelConfigWarned = false;\n/**\n * Check if custom babel configuration from user only contains options that\n * can be migrated into latest Next.js features supported by SWC.\n *\n * This raises soft warning messages only, not making any errors yet.\n */\nfunction checkCustomBabelConfigDeprecation(config) {\n  if (!config || Object.keys(config).length === 0) {\n    return;\n  }\n  const {\n    plugins,\n    presets,\n    ...otherOptions\n  } = config;\n  if (Object.keys(otherOptions ?? {}).length > 0) {\n    return;\n  }\n  if (babelConfigWarned) {\n    return;\n  }\n  babelConfigWarned = true;\n  const isPresetReadyToDeprecate = !presets || presets.length === 0 || presets.length === 1 && presets[0] === \"next/babel\";\n  const pluginReasons = [];\n  const unsupportedPlugins = [];\n  if (Array.isArray(plugins)) {\n    for (const plugin of plugins) {\n      const pluginName = Array.isArray(plugin) ? plugin[0] : plugin;\n      // [NOTE]: We cannot detect if the user uses babel-plugin-macro based transform plugins,\n      // such as `styled-components/macro` in here.\n      switch (pluginName) {\n        case \"styled-components\":\n        case \"babel-plugin-styled-components\":\n          pluginReasons.push(`\\t- 'styled-components' can be enabled via 'compiler.styledComponents' in 'next.config.js'`);\n          break;\n        case \"@emotion/babel-plugin\":\n          pluginReasons.push(`\\t- '@emotion/babel-plugin' can be enabled via 'compiler.emotion' in 'next.config.js'`);\n          break;\n        case \"babel-plugin-relay\":\n          pluginReasons.push(`\\t- 'babel-plugin-relay' can be enabled via 'compiler.relay' in 'next.config.js'`);\n          break;\n        case \"react-remove-properties\":\n          pluginReasons.push(`\\t- 'react-remove-properties' can be enabled via 'compiler.reactRemoveProperties' in 'next.config.js'`);\n          break;\n        case \"transform-remove-console\":\n          pluginReasons.push(`\\t- 'transform-remove-console' can be enabled via 'compiler.removeConsole' in 'next.config.js'`);\n          break;\n        default:\n          unsupportedPlugins.push(pluginName);\n          break;\n      }\n    }\n  }\n  if (isPresetReadyToDeprecate && unsupportedPlugins.length === 0) {\n    _log.warn(`It looks like there is a custom Babel configuration can be removed ${pluginReasons.length > 0 ? \":\" : \".\"}`);\n    if (pluginReasons.length > 0) {\n      _log.warn(`Next.js supports the following features natively: `);\n      _log.warn(pluginReasons.join(\"\"));\n      _log.warn(`For more details configuration options, please refer https://nextjs.org/docs/architecture/nextjs-compiler#supported-features`);\n    }\n  }\n}\n/**\n * Generate a new, flat Babel config, ready to be handed to Babel-traverse.\n * This config should have no unresolved overrides, presets, etc.\n */\nfunction getFreshConfig(cacheCharacteristics, loaderOptions, target, filename, inputSourceMap) {\n  let {\n    isServer,\n    pagesDir,\n    development,\n    hasJsxRuntime,\n    configFile\n  } = loaderOptions;\n  let customConfig = configFile ? getCustomBabelConfig(configFile) : undefined;\n  checkCustomBabelConfigDeprecation(customConfig);\n  let options = {\n    babelrc: false,\n    cloneInputAst: false,\n    filename,\n    inputSourceMap: inputSourceMap || undefined,\n    // Set the default sourcemap behavior based on Webpack's mapping flag,\n    // but allow users to override if they want.\n    sourceMaps: loaderOptions.sourceMaps === undefined ? this.sourceMap : loaderOptions.sourceMaps,\n    // Ensure that Webpack will get a full absolute path in the sourcemap\n    // so that it can properly map the module back to its internal cached\n    // modules.\n    sourceFileName: filename,\n    plugins: [...getPlugins(loaderOptions, cacheCharacteristics), ...((customConfig == null ? void 0 : customConfig.plugins) || [])],\n    // target can be provided in babelrc\n    target: isServer ? undefined : customConfig == null ? void 0 : customConfig.target,\n    // env can be provided in babelrc\n    env: customConfig == null ? void 0 : customConfig.env,\n    presets: (() => {\n      // If presets is defined the user will have next/babel in their babelrc\n      if (customConfig == null ? void 0 : customConfig.presets) {\n        return customConfig.presets;\n      }\n      // If presets is not defined the user will likely have \"env\" in their babelrc\n      if (customConfig) {\n        return undefined;\n      }\n      // If no custom config is provided the default is to use next/babel\n      return [\"next/babel\"];\n    })(),\n    overrides: loaderOptions.overrides,\n    caller: {\n      name: \"next-babel-turbo-loader\",\n      supportsStaticESM: true,\n      supportsDynamicImport: true,\n      // Provide plugins with insight into webpack target.\n      // https://github.com/babel/babel-loader/issues/787\n      target: target,\n      // Webpack 5 supports TLA behind a flag. We enable it by default\n      // for Babel, and then webpack will throw an error if the experimental\n      // flag isn't enabled.\n      supportsTopLevelAwait: true,\n      isServer,\n      pagesDir,\n      isDev: development,\n      hasJsxRuntime,\n      ...loaderOptions.caller\n    }\n  };\n  // Babel does strict checks on the config so undefined is not allowed\n  if (typeof options.target === \"undefined\") {\n    delete options.target;\n  }\n  Object.defineProperty(options.caller, \"onWarning\", {\n    enumerable: false,\n    writable: false,\n    value: reason => {\n      if (!(reason instanceof Error)) {\n        reason = new Error(reason);\n      }\n      this.emitWarning(reason);\n    }\n  });\n  const loadedOptions = (0, _core.loadOptions)(options);\n  const config = (0, _util.consumeIterator)((0, _corelibconfig.default)(loadedOptions));\n  return config;\n}\n/**\n * Each key returned here corresponds with a Babel config that can be shared.\n * The conditions of permissible sharing between files is dependent on specific\n * file attributes and Next.js compiler states: `CharacteristicsGermaneToCaching`.\n */\nfunction getCacheKey(cacheCharacteristics) {\n  const {\n    isServer,\n    isPageFile,\n    isNextDist,\n    hasModuleExports,\n    fileExt\n  } = cacheCharacteristics;\n  const flags = 0 | (isServer ? 1 : 0) | (isPageFile ? 2 : 0) | (isNextDist ? 4 : 0) | (hasModuleExports ? 8 : 0);\n  return fileExt + flags;\n}\nconst configCache = new Map();\nconst configFiles = new Set();\nfunction getConfig({\n  source,\n  target,\n  loaderOptions,\n  filename,\n  inputSourceMap\n}) {\n  const cacheCharacteristics = getCacheCharacteristics(loaderOptions, source, filename);\n  if (loaderOptions.configFile) {\n    // Ensures webpack invalidates the cache for this loader when the config file changes\n    this.addDependency(loaderOptions.configFile);\n  }\n  const cacheKey = getCacheKey(cacheCharacteristics);\n  if (configCache.has(cacheKey)) {\n    const cachedConfig = configCache.get(cacheKey);\n    return {\n      ...cachedConfig,\n      options: {\n        ...cachedConfig.options,\n        cwd: loaderOptions.cwd,\n        root: loaderOptions.cwd,\n        filename,\n        sourceFileName: filename\n      }\n    };\n  }\n  if (loaderOptions.configFile && !configFiles.has(loaderOptions.configFile)) {\n    configFiles.add(loaderOptions.configFile);\n    _log.info(`Using external babel configuration from ${loaderOptions.configFile}`);\n  }\n  const freshConfig = getFreshConfig.call(this, cacheCharacteristics, loaderOptions, target, filename, inputSourceMap);\n  configCache.set(cacheKey, freshConfig);\n  return freshConfig;\n}","map":{"version":3,"names":["getConfig","nextDistPath","fileExtensionRegex","getCacheCharacteristics","loaderOptions","source","filename","_fileExtensionRegex_exec","isServer","pagesDir","isPageFile","startsWith","isNextDist","test","hasModuleExports","indexOf","fileExt","exec","getPlugins","cacheCharacteristics","hasReactRefresh","development","applyCommonJsItem","_core","createConfigItem","require","type","reactRefreshItem","skipEnvCheck","pageConfigItem","disallowExportAllItem","transformDefineItem","resolve","nextSsgItem","commonJsItem","nextFontUnsupported","filter","Boolean","isJsonFile","isJsFile","getCustomBabelConfig","configFilePath","babelConfigRaw","_fs","readFileSync","_json5","default","parse","Error","babelConfigWarned","checkCustomBabelConfigDeprecation","config","Object","keys","length","plugins","presets","otherOptions","isPresetReadyToDeprecate","pluginReasons","unsupportedPlugins","Array","isArray","plugin","pluginName","push","_log","warn","join","getFreshConfig","target","inputSourceMap","hasJsxRuntime","configFile","customConfig","undefined","options","babelrc","cloneInputAst","sourceMaps","sourceMap","sourceFileName","env","overrides","caller","name","supportsStaticESM","supportsDynamicImport","supportsTopLevelAwait","isDev","defineProperty","enumerable","writable","value","reason","emitWarning","loadedOptions","loadOptions","_util","consumeIterator","_corelibconfig","getCacheKey","flags","configCache","Map","configFiles","Set","addDependency","cacheKey","has","cachedConfig","get","cwd","root","add","info","freshConfig","call","set"],"sources":["../../../../src/build/babel/loader/get-config.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}