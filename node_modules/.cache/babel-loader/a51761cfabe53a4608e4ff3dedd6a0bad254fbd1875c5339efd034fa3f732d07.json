{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  errorToJSON: null,\n  renderToHTMLImpl: null,\n  renderToHTML: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  errorToJSON: function () {\n    return errorToJSON;\n  },\n  renderToHTMLImpl: function () {\n    return renderToHTMLImpl;\n  },\n  renderToHTML: function () {\n    return renderToHTML;\n  }\n});\nconst _apiutils = require(\"./api-utils\");\nconst _getcookieparser = require(\"./api-utils/get-cookie-parser\");\nconst _react = /*#__PURE__*/_interop_require_default(require(\"react\"));\nconst _serverbrowser = /*#__PURE__*/_interop_require_default(require(\"react-dom/server.browser\"));\nconst _styledjsx = require(\"styled-jsx\");\nconst _constants = require(\"../lib/constants\");\nconst _constants1 = require(\"../shared/lib/constants\");\nconst _isserializableprops = require(\"../lib/is-serializable-props\");\nconst _ampmode = require(\"../shared/lib/amp-mode\");\nconst _ampcontextsharedruntime = require(\"../shared/lib/amp-context.shared-runtime\");\nconst _head = require(\"../shared/lib/head\");\nconst _headmanagercontextsharedruntime = require(\"../shared/lib/head-manager-context.shared-runtime\");\nconst _loadablesharedruntime = /*#__PURE__*/_interop_require_default(require(\"../shared/lib/loadable.shared-runtime\"));\nconst _loadablecontextsharedruntime = require(\"../shared/lib/loadable-context.shared-runtime\");\nconst _routercontextsharedruntime = require(\"../shared/lib/router-context.shared-runtime\");\nconst _isdynamic = require(\"../shared/lib/router/utils/is-dynamic\");\nconst _utils = require(\"../shared/lib/utils\");\nconst _htmlcontextsharedruntime = require(\"../shared/lib/html-context.shared-runtime\");\nconst _normalizepagepath = require(\"../shared/lib/page-path/normalize-page-path\");\nconst _denormalizepagepath = require(\"../shared/lib/page-path/denormalize-page-path\");\nconst _requestmeta = require(\"./request-meta\");\nconst _redirectstatus = require(\"../lib/redirect-status\");\nconst _renderresult = /*#__PURE__*/_interop_require_default(require(\"./render-result\"));\nconst _iserror = /*#__PURE__*/_interop_require_default(require(\"../lib/is-error\"));\nconst _nodewebstreamshelper = require(\"./stream-utils/node-web-streams-helper\");\nconst _imageconfigcontextsharedruntime = require(\"../shared/lib/image-config-context.shared-runtime\");\nconst _stripansi = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/strip-ansi\"));\nconst _internalutils = require(\"./internal-utils\");\nconst _adapters = require(\"../shared/lib/router/adapters\");\nconst _approutercontextsharedruntime = require(\"../shared/lib/app-router-context.shared-runtime\");\nconst _hooksclientcontextsharedruntime = require(\"../shared/lib/hooks-client-context.shared-runtime\");\nconst _tracer = require(\"./lib/trace/tracer\");\nconst _constants2 = require(\"./lib/trace/constants\");\nconst _reflect = require(\"./web/spec-extension/adapters/reflect\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nlet tryGetPreviewData;\nlet warn;\nlet postProcessHTML;\nconst DOCTYPE = \"<!DOCTYPE html>\";\nif (process.env.NEXT_RUNTIME !== \"edge\") {\n  require(\"./node-polyfill-web-streams\");\n  tryGetPreviewData = require(\"./api-utils/node\").tryGetPreviewData;\n  warn = require(\"../build/output/log\").warn;\n  postProcessHTML = require(\"./post-process\").postProcessHTML;\n} else {\n  warn = console.warn.bind(console);\n  postProcessHTML = async (_pathname, html) => html;\n}\nfunction noRouter() {\n  const message = 'No router instance found. you should only use \"next/router\" inside the client side of your app. https://nextjs.org/docs/messages/no-router-instance';\n  throw new Error(message);\n}\nasync function renderToString(element) {\n  const renderStream = await _serverbrowser.default.renderToReadableStream(element);\n  await renderStream.allReady;\n  return (0, _nodewebstreamshelper.streamToString)(renderStream);\n}\nclass ServerRouter {\n  constructor(pathname, query, as, {\n    isFallback\n  }, isReady, basePath, locale, locales, defaultLocale, domainLocales, isPreview, isLocaleDomain) {\n    this.route = pathname.replace(/\\/$/, \"\") || \"/\";\n    this.pathname = pathname;\n    this.query = query;\n    this.asPath = as;\n    this.isFallback = isFallback;\n    this.basePath = basePath;\n    this.locale = locale;\n    this.locales = locales;\n    this.defaultLocale = defaultLocale;\n    this.isReady = isReady;\n    this.domainLocales = domainLocales;\n    this.isPreview = !!isPreview;\n    this.isLocaleDomain = !!isLocaleDomain;\n  }\n  push() {\n    noRouter();\n  }\n  replace() {\n    noRouter();\n  }\n  reload() {\n    noRouter();\n  }\n  back() {\n    noRouter();\n  }\n  forward() {\n    noRouter();\n  }\n  prefetch() {\n    noRouter();\n  }\n  beforePopState() {\n    noRouter();\n  }\n}\nfunction enhanceComponents(options, App, Component) {\n  // For backwards compatibility\n  if (typeof options === \"function\") {\n    return {\n      App,\n      Component: options(Component)\n    };\n  }\n  return {\n    App: options.enhanceApp ? options.enhanceApp(App) : App,\n    Component: options.enhanceComponent ? options.enhanceComponent(Component) : Component\n  };\n}\nfunction renderPageTree(App, Component, props) {\n  return /*#__PURE__*/_react.default.createElement(App, {\n    Component: Component,\n    ...props\n  });\n}\nconst invalidKeysMsg = (methodName, invalidKeys) => {\n  const docsPathname = `invalid-${methodName.toLocaleLowerCase()}-value`;\n  return `Additional keys were returned from \\`${methodName}\\`. Properties intended for your component must be nested under the \\`props\\` key, e.g.:` + `\\n\\n\\treturn { props: { title: 'My Title', content: '...' } }` + `\\n\\nKeys that need to be moved: ${invalidKeys.join(\", \")}.` + `\\nRead more: https://nextjs.org/docs/messages/${docsPathname}`;\n};\nfunction checkRedirectValues(redirect, req, method) {\n  const {\n    destination,\n    permanent,\n    statusCode,\n    basePath\n  } = redirect;\n  let errors = [];\n  const hasStatusCode = typeof statusCode !== \"undefined\";\n  const hasPermanent = typeof permanent !== \"undefined\";\n  if (hasPermanent && hasStatusCode) {\n    errors.push(`\\`permanent\\` and \\`statusCode\\` can not both be provided`);\n  } else if (hasPermanent && typeof permanent !== \"boolean\") {\n    errors.push(`\\`permanent\\` must be \\`true\\` or \\`false\\``);\n  } else if (hasStatusCode && !_redirectstatus.allowedStatusCodes.has(statusCode)) {\n    errors.push(`\\`statusCode\\` must undefined or one of ${[..._redirectstatus.allowedStatusCodes].join(\", \")}`);\n  }\n  const destinationType = typeof destination;\n  if (destinationType !== \"string\") {\n    errors.push(`\\`destination\\` should be string but received ${destinationType}`);\n  }\n  const basePathType = typeof basePath;\n  if (basePathType !== \"undefined\" && basePathType !== \"boolean\") {\n    errors.push(`\\`basePath\\` should be undefined or a false, received ${basePathType}`);\n  }\n  if (errors.length > 0) {\n    throw new Error(`Invalid redirect object returned from ${method} for ${req.url}\\n` + errors.join(\" and \") + \"\\n\" + `See more info here: https://nextjs.org/docs/messages/invalid-redirect-gssp`);\n  }\n}\nfunction errorToJSON(err) {\n  let source = \"server\";\n  if (process.env.NEXT_RUNTIME !== \"edge\") {\n    source = require(\"next/dist/compiled/@next/react-dev-overlay/dist/middleware\").getErrorSource(err) || \"server\";\n  }\n  return {\n    name: err.name,\n    source,\n    message: (0, _stripansi.default)(err.message),\n    stack: err.stack,\n    digest: err.digest\n  };\n}\nfunction serializeError(dev, err) {\n  if (dev) {\n    return errorToJSON(err);\n  }\n  return {\n    name: \"Internal Server Error.\",\n    message: \"500 - Internal Server Error.\",\n    statusCode: 500\n  };\n}\nasync function renderToHTMLImpl(req, res, pathname, query, renderOpts, extra) {\n  var _getTracer_getRootSpanAttributes;\n  // Adds support for reading `cookies` in `getServerSideProps` when SSR.\n  (0, _apiutils.setLazyProp)({\n    req: req\n  }, \"cookies\", (0, _getcookieparser.getCookieParser)(req.headers));\n  const renderResultMeta = {};\n  // In dev we invalidate the cache by appending a timestamp to the resource URL.\n  // This is a workaround to fix https://github.com/vercel/next.js/issues/5860\n  // TODO: remove this workaround when https://bugs.webkit.org/show_bug.cgi?id=187726 is fixed.\n  renderResultMeta.assetQueryString = renderOpts.dev ? renderOpts.assetQueryString || `?ts=${Date.now()}` : \"\";\n  // if deploymentId is provided we append it to all asset requests\n  if (renderOpts.deploymentId) {\n    renderResultMeta.assetQueryString += `${renderResultMeta.assetQueryString ? \"&\" : \"?\"}dpl=${renderOpts.deploymentId}`;\n  }\n  // don't modify original query object\n  query = Object.assign({}, query);\n  const {\n    err,\n    dev = false,\n    ampPath = \"\",\n    pageConfig = {},\n    buildManifest,\n    reactLoadableManifest,\n    ErrorDebug,\n    getStaticProps,\n    getStaticPaths,\n    getServerSideProps,\n    isDataReq,\n    params,\n    previewProps,\n    basePath,\n    images,\n    runtime: globalRuntime\n  } = renderOpts;\n  const {\n    App\n  } = extra;\n  const assetQueryString = renderResultMeta.assetQueryString;\n  let Document = extra.Document;\n  let Component = renderOpts.Component;\n  const OriginComponent = Component;\n  let serverComponentsInlinedTransformStream = null;\n  const isFallback = !!query.__nextFallback;\n  const notFoundSrcPage = query.__nextNotFoundSrcPage;\n  // next internal queries should be stripped out\n  (0, _internalutils.stripInternalQueries)(query);\n  const isSSG = !!getStaticProps;\n  const isBuildTimeSSG = isSSG && renderOpts.nextExport;\n  const defaultAppGetInitialProps = App.getInitialProps === App.origGetInitialProps;\n  const hasPageGetInitialProps = !!(Component == null ? void 0 : Component.getInitialProps);\n  const hasPageScripts = Component == null ? void 0 : Component.unstable_scriptLoader;\n  const pageIsDynamic = (0, _isdynamic.isDynamicRoute)(pathname);\n  const defaultErrorGetInitialProps = pathname === \"/_error\" && Component.getInitialProps === Component.origGetInitialProps;\n  if (renderOpts.nextExport && hasPageGetInitialProps && !defaultErrorGetInitialProps) {\n    warn(`Detected getInitialProps on page '${pathname}'` + ` while running export. It's recommended to use getStaticProps` + ` which has a more correct behavior for static exporting.` + `\\nRead more: https://nextjs.org/docs/messages/get-initial-props-export`);\n  }\n  const isAutoExport = !hasPageGetInitialProps && defaultAppGetInitialProps && !isSSG && !getServerSideProps;\n  if (hasPageGetInitialProps && isSSG) {\n    throw new Error(_constants.SSG_GET_INITIAL_PROPS_CONFLICT + ` ${pathname}`);\n  }\n  if (hasPageGetInitialProps && getServerSideProps) {\n    throw new Error(_constants.SERVER_PROPS_GET_INIT_PROPS_CONFLICT + ` ${pathname}`);\n  }\n  if (getServerSideProps && isSSG) {\n    throw new Error(_constants.SERVER_PROPS_SSG_CONFLICT + ` ${pathname}`);\n  }\n  if (getServerSideProps && renderOpts.nextConfigOutput === \"export\") {\n    throw new Error('getServerSideProps cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/advanced-features/static-html-export');\n  }\n  if (getStaticPaths && !pageIsDynamic) {\n    throw new Error(`getStaticPaths is only allowed for dynamic SSG pages and was found on '${pathname}'.` + `\\nRead more: https://nextjs.org/docs/messages/non-dynamic-getstaticpaths-usage`);\n  }\n  if (!!getStaticPaths && !isSSG) {\n    throw new Error(`getStaticPaths was added without a getStaticProps in ${pathname}. Without getStaticProps, getStaticPaths does nothing`);\n  }\n  if (isSSG && pageIsDynamic && !getStaticPaths) {\n    throw new Error(`getStaticPaths is required for dynamic SSG pages and is missing for '${pathname}'.` + `\\nRead more: https://nextjs.org/docs/messages/invalid-getstaticpaths-value`);\n  }\n  let asPath = renderOpts.resolvedAsPath || req.url;\n  if (dev) {\n    const {\n      isValidElementType\n    } = require(\"next/dist/compiled/react-is\");\n    if (!isValidElementType(Component)) {\n      throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n    }\n    if (!isValidElementType(App)) {\n      throw new Error(`The default export is not a React Component in page: \"/_app\"`);\n    }\n    if (!isValidElementType(Document)) {\n      throw new Error(`The default export is not a React Component in page: \"/_document\"`);\n    }\n    if (isAutoExport || isFallback) {\n      // remove query values except ones that will be set during export\n      query = {\n        ...(query.amp ? {\n          amp: query.amp\n        } : {})\n      };\n      asPath = `${pathname}${// ensure trailing slash is present for non-dynamic auto-export pages\n      req.url.endsWith(\"/\") && pathname !== \"/\" && !pageIsDynamic ? \"/\" : \"\"}`;\n      req.url = pathname;\n    }\n    if (pathname === \"/404\" && (hasPageGetInitialProps || getServerSideProps)) {\n      throw new Error(`\\`pages/404\\` ${_constants.STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR}`);\n    }\n    if (_constants1.STATIC_STATUS_PAGES.includes(pathname) && (hasPageGetInitialProps || getServerSideProps)) {\n      throw new Error(`\\`pages${pathname}\\` ${_constants.STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR}`);\n    }\n  }\n  for (const methodName of [\"getStaticProps\", \"getServerSideProps\", \"getStaticPaths\"]) {\n    if (Component == null ? void 0 : Component[methodName]) {\n      throw new Error(`page ${pathname} ${methodName} ${_constants.GSSP_COMPONENT_MEMBER_ERROR}`);\n    }\n  }\n  await _loadablesharedruntime.default.preloadAll() // Make sure all dynamic imports are loaded\n  ;\n\n  let isPreview = undefined;\n  let previewData;\n  if ((isSSG || getServerSideProps) && !isFallback && process.env.NEXT_RUNTIME !== \"edge\" && previewProps) {\n    // Reads of this are cached on the `req` object, so this should resolve\n    // instantly. There's no need to pass this data down from a previous\n    // invoke.\n    previewData = tryGetPreviewData(req, res, previewProps);\n    isPreview = previewData !== false;\n  }\n  // url will always be set\n  const routerIsReady = !!(getServerSideProps || hasPageGetInitialProps || !defaultAppGetInitialProps && !isSSG);\n  const router = new ServerRouter(pathname, query, asPath, {\n    isFallback: isFallback\n  }, routerIsReady, basePath, renderOpts.locale, renderOpts.locales, renderOpts.defaultLocale, renderOpts.domainLocales, isPreview, (0, _requestmeta.getRequestMeta)(req, \"__nextIsLocaleDomain\"));\n  const appRouter = (0, _adapters.adaptForAppRouterInstance)(router);\n  let scriptLoader = {};\n  const jsxStyleRegistry = (0, _styledjsx.createStyleRegistry)();\n  const ampState = {\n    ampFirst: pageConfig.amp === true,\n    hasQuery: Boolean(query.amp),\n    hybrid: pageConfig.amp === \"hybrid\"\n  };\n  // Disable AMP under the web environment\n  const inAmpMode = process.env.NEXT_RUNTIME !== \"edge\" && (0, _ampmode.isInAmpMode)(ampState);\n  let head = (0, _head.defaultHead)(inAmpMode);\n  const reactLoadableModules = [];\n  let initialScripts = {};\n  if (hasPageScripts) {\n    initialScripts.beforeInteractive = [].concat(hasPageScripts()).filter(script => script.props.strategy === \"beforeInteractive\").map(script => script.props);\n  }\n  const AppContainer = ({\n    children\n  }) => /*#__PURE__*/_react.default.createElement(_approutercontextsharedruntime.AppRouterContext.Provider, {\n    value: appRouter\n  }, /*#__PURE__*/_react.default.createElement(_hooksclientcontextsharedruntime.SearchParamsContext.Provider, {\n    value: (0, _adapters.adaptForSearchParams)(router)\n  }, /*#__PURE__*/_react.default.createElement(_adapters.PathnameContextProviderAdapter, {\n    router: router,\n    isAutoExport: isAutoExport\n  }, /*#__PURE__*/_react.default.createElement(_hooksclientcontextsharedruntime.PathParamsContext.Provider, {\n    value: (0, _adapters.adaptForPathParams)(router)\n  }, /*#__PURE__*/_react.default.createElement(_routercontextsharedruntime.RouterContext.Provider, {\n    value: router\n  }, /*#__PURE__*/_react.default.createElement(_ampcontextsharedruntime.AmpStateContext.Provider, {\n    value: ampState\n  }, /*#__PURE__*/_react.default.createElement(_headmanagercontextsharedruntime.HeadManagerContext.Provider, {\n    value: {\n      updateHead: state => {\n        head = state;\n      },\n      updateScripts: scripts => {\n        scriptLoader = scripts;\n      },\n      scripts: initialScripts,\n      mountedInstances: new Set()\n    }\n  }, /*#__PURE__*/_react.default.createElement(_loadablecontextsharedruntime.LoadableContext.Provider, {\n    value: moduleName => reactLoadableModules.push(moduleName)\n  }, /*#__PURE__*/_react.default.createElement(_styledjsx.StyleRegistry, {\n    registry: jsxStyleRegistry\n  }, /*#__PURE__*/_react.default.createElement(_imageconfigcontextsharedruntime.ImageConfigContext.Provider, {\n    value: images\n  }, children))))))))));\n  // The `useId` API uses the path indexes to generate an ID for each node.\n  // To guarantee the match of hydration, we need to ensure that the structure\n  // of wrapper nodes is isomorphic in server and client.\n  // TODO: With `enhanceApp` and `enhanceComponents` options, this approach may\n  // not be useful.\n  // https://github.com/facebook/react/pull/22644\n  const Noop = () => null;\n  const AppContainerWithIsomorphicFiberStructure = ({\n    children\n  }) => {\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(Noop, null), /*#__PURE__*/_react.default.createElement(AppContainer, null, /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, dev ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, children, /*#__PURE__*/_react.default.createElement(Noop, null)) : children, /*#__PURE__*/_react.default.createElement(Noop, null))));\n  };\n  const ctx = {\n    err,\n    req: isAutoExport ? undefined : req,\n    res: isAutoExport ? undefined : res,\n    pathname,\n    query,\n    asPath,\n    locale: renderOpts.locale,\n    locales: renderOpts.locales,\n    defaultLocale: renderOpts.defaultLocale,\n    AppTree: props => {\n      return /*#__PURE__*/_react.default.createElement(AppContainerWithIsomorphicFiberStructure, null, renderPageTree(App, OriginComponent, {\n        ...props,\n        router\n      }));\n    },\n    defaultGetInitialProps: async (docCtx, options = {}) => {\n      const enhanceApp = AppComp => {\n        return props => /*#__PURE__*/_react.default.createElement(AppComp, props);\n      };\n      const {\n        html,\n        head: renderPageHead\n      } = await docCtx.renderPage({\n        enhanceApp\n      });\n      const styles = jsxStyleRegistry.styles({\n        nonce: options.nonce\n      });\n      jsxStyleRegistry.flush();\n      return {\n        html,\n        head: renderPageHead,\n        styles\n      };\n    }\n  };\n  let props;\n  const nextExport = !isSSG && (renderOpts.nextExport || dev && (isAutoExport || isFallback));\n  const styledJsxInsertedHTML = () => {\n    const styles = jsxStyleRegistry.styles();\n    jsxStyleRegistry.flush();\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, styles);\n  };\n  props = await (0, _utils.loadGetInitialProps)(App, {\n    AppTree: ctx.AppTree,\n    Component,\n    router,\n    ctx\n  });\n  if ((isSSG || getServerSideProps) && isPreview) {\n    props.__N_PREVIEW = true;\n  }\n  if (isSSG) {\n    props[_constants1.STATIC_PROPS_ID] = true;\n  }\n  if (isSSG && !isFallback) {\n    let data;\n    try {\n      data = await (0, _tracer.getTracer)().trace(_constants2.RenderSpan.getStaticProps, {\n        spanName: `getStaticProps ${pathname}`,\n        attributes: {\n          \"next.route\": pathname\n        }\n      }, () => getStaticProps({\n        ...(pageIsDynamic ? {\n          params: query\n        } : undefined),\n        ...(isPreview ? {\n          draftMode: true,\n          preview: true,\n          previewData: previewData\n        } : undefined),\n        locales: renderOpts.locales,\n        locale: renderOpts.locale,\n        defaultLocale: renderOpts.defaultLocale\n      }));\n    } catch (staticPropsError) {\n      // remove not found error code to prevent triggering legacy\n      // 404 rendering\n      if (staticPropsError && staticPropsError.code === \"ENOENT\") {\n        delete staticPropsError.code;\n      }\n      throw staticPropsError;\n    }\n    if (data == null) {\n      throw new Error(_constants.GSP_NO_RETURNED_VALUE);\n    }\n    const invalidKeys = Object.keys(data).filter(key => key !== \"revalidate\" && key !== \"props\" && key !== \"redirect\" && key !== \"notFound\");\n    if (invalidKeys.includes(\"unstable_revalidate\")) {\n      throw new Error(_constants.UNSTABLE_REVALIDATE_RENAME_ERROR);\n    }\n    if (invalidKeys.length) {\n      throw new Error(invalidKeysMsg(\"getStaticProps\", invalidKeys));\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof data.notFound !== \"undefined\" && typeof data.redirect !== \"undefined\") {\n        throw new Error(`\\`redirect\\` and \\`notFound\\` can not both be returned from ${isSSG ? \"getStaticProps\" : \"getServerSideProps\"} at the same time. Page: ${pathname}\\nSee more info here: https://nextjs.org/docs/messages/gssp-mixed-not-found-redirect`);\n      }\n    }\n    if (\"notFound\" in data && data.notFound) {\n      if (pathname === \"/404\") {\n        throw new Error(`The /404 page can not return notFound in \"getStaticProps\", please remove it to continue!`);\n      }\n      renderResultMeta.isNotFound = true;\n    }\n    if (\"redirect\" in data && data.redirect && typeof data.redirect === \"object\") {\n      checkRedirectValues(data.redirect, req, \"getStaticProps\");\n      if (isBuildTimeSSG) {\n        throw new Error(`\\`redirect\\` can not be returned from getStaticProps during prerendering (${req.url})\\n` + `See more info here: https://nextjs.org/docs/messages/gsp-redirect-during-prerender`);\n      }\n      data.props = {\n        __N_REDIRECT: data.redirect.destination,\n        __N_REDIRECT_STATUS: (0, _redirectstatus.getRedirectStatus)(data.redirect)\n      };\n      if (typeof data.redirect.basePath !== \"undefined\") {\n        data.props.__N_REDIRECT_BASE_PATH = data.redirect.basePath;\n      }\n      renderResultMeta.isRedirect = true;\n    }\n    if ((dev || isBuildTimeSSG) && !renderResultMeta.isNotFound && !(0, _isserializableprops.isSerializableProps)(pathname, \"getStaticProps\", data.props)) {\n      // this fn should throw an error instead of ever returning `false`\n      throw new Error(\"invariant: getStaticProps did not return valid props. Please report this.\");\n    }\n    if (\"revalidate\" in data) {\n      if (data.revalidate && renderOpts.nextConfigOutput === \"export\") {\n        throw new Error('ISR cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/advanced-features/static-html-export');\n      }\n      if (typeof data.revalidate === \"number\") {\n        if (!Number.isInteger(data.revalidate)) {\n          throw new Error(`A page's revalidate option must be seconds expressed as a natural number for ${req.url}. Mixed numbers, such as '${data.revalidate}', cannot be used.` + `\\nTry changing the value to '${Math.ceil(data.revalidate)}' or using \\`Math.ceil()\\` if you're computing the value.`);\n        } else if (data.revalidate <= 0) {\n          throw new Error(`A page's revalidate option can not be less than or equal to zero for ${req.url}. A revalidate option of zero means to revalidate after _every_ request, and implies stale data cannot be tolerated.` + `\\n\\nTo never revalidate, you can set revalidate to \\`false\\` (only ran once at build-time).` + `\\nTo revalidate as soon as possible, you can set the value to \\`1\\`.`);\n        } else if (data.revalidate > 31536000) {\n          // if it's greater than a year for some reason error\n          console.warn(`Warning: A page's revalidate option was set to more than a year for ${req.url}. This may have been done in error.` + `\\nTo only run getStaticProps at build-time and not revalidate at runtime, you can set \\`revalidate\\` to \\`false\\`!`);\n        }\n      } else if (data.revalidate === true) {\n        // When enabled, revalidate after 1 second. This value is optimal for\n        // the most up-to-date page possible, but without a 1-to-1\n        // request-refresh ratio.\n        data.revalidate = 1;\n      } else if (data.revalidate === false || typeof data.revalidate === \"undefined\") {\n        // By default, we never revalidate.\n        data.revalidate = false;\n      } else {\n        throw new Error(`A page's revalidate option must be seconds expressed as a natural number. Mixed numbers and strings cannot be used. Received '${JSON.stringify(data.revalidate)}' for ${req.url}`);\n      }\n    } else {\n      data.revalidate = false;\n    }\n    props.pageProps = Object.assign({}, props.pageProps, \"props\" in data ? data.props : undefined);\n    // pass up revalidate and props for export\n    renderResultMeta.revalidate = \"revalidate\" in data ? data.revalidate : undefined;\n    renderResultMeta.pageData = props;\n    // this must come after revalidate is added to renderResultMeta\n    if (renderResultMeta.isNotFound) {\n      return new _renderresult.default(null, renderResultMeta);\n    }\n  }\n  if (getServerSideProps) {\n    props[_constants1.SERVER_PROPS_ID] = true;\n  }\n  if (getServerSideProps && !isFallback) {\n    let data;\n    let canAccessRes = true;\n    let resOrProxy = res;\n    let deferredContent = false;\n    if (process.env.NODE_ENV !== \"production\") {\n      resOrProxy = new Proxy(res, {\n        get: function (obj, prop) {\n          if (!canAccessRes) {\n            const message = `You should not access 'res' after getServerSideProps resolves.` + `\\nRead more: https://nextjs.org/docs/messages/gssp-no-mutating-res`;\n            if (deferredContent) {\n              throw new Error(message);\n            } else {\n              warn(message);\n            }\n          }\n          if (typeof prop === \"symbol\") {\n            return _reflect.ReflectAdapter.get(obj, prop, res);\n          }\n          return _reflect.ReflectAdapter.get(obj, prop, res);\n        }\n      });\n    }\n    try {\n      data = await (0, _tracer.getTracer)().trace(_constants2.RenderSpan.getServerSideProps, {\n        spanName: `getServerSideProps ${pathname}`,\n        attributes: {\n          \"next.route\": pathname\n        }\n      }, async () => getServerSideProps({\n        req: req,\n        res: resOrProxy,\n        query,\n        resolvedUrl: renderOpts.resolvedUrl,\n        ...(pageIsDynamic ? {\n          params: params\n        } : undefined),\n        ...(previewData !== false ? {\n          draftMode: true,\n          preview: true,\n          previewData: previewData\n        } : undefined),\n        locales: renderOpts.locales,\n        locale: renderOpts.locale,\n        defaultLocale: renderOpts.defaultLocale\n      }));\n      canAccessRes = false;\n    } catch (serverSidePropsError) {\n      // remove not found error code to prevent triggering legacy\n      // 404 rendering\n      if ((0, _iserror.default)(serverSidePropsError) && serverSidePropsError.code === \"ENOENT\") {\n        delete serverSidePropsError.code;\n      }\n      throw serverSidePropsError;\n    }\n    if (data == null) {\n      throw new Error(_constants.GSSP_NO_RETURNED_VALUE);\n    }\n    if (data.props instanceof Promise) {\n      deferredContent = true;\n    }\n    const invalidKeys = Object.keys(data).filter(key => key !== \"props\" && key !== \"redirect\" && key !== \"notFound\");\n    if (data.unstable_notFound) {\n      throw new Error(`unstable_notFound has been renamed to notFound, please update the field to continue. Page: ${pathname}`);\n    }\n    if (data.unstable_redirect) {\n      throw new Error(`unstable_redirect has been renamed to redirect, please update the field to continue. Page: ${pathname}`);\n    }\n    if (invalidKeys.length) {\n      throw new Error(invalidKeysMsg(\"getServerSideProps\", invalidKeys));\n    }\n    if (\"notFound\" in data && data.notFound) {\n      if (pathname === \"/404\") {\n        throw new Error(`The /404 page can not return notFound in \"getStaticProps\", please remove it to continue!`);\n      }\n      renderResultMeta.isNotFound = true;\n      return new _renderresult.default(null, renderResultMeta);\n    }\n    if (\"redirect\" in data && typeof data.redirect === \"object\") {\n      checkRedirectValues(data.redirect, req, \"getServerSideProps\");\n      data.props = {\n        __N_REDIRECT: data.redirect.destination,\n        __N_REDIRECT_STATUS: (0, _redirectstatus.getRedirectStatus)(data.redirect)\n      };\n      if (typeof data.redirect.basePath !== \"undefined\") {\n        data.props.__N_REDIRECT_BASE_PATH = data.redirect.basePath;\n      }\n      renderResultMeta.isRedirect = true;\n    }\n    if (deferredContent) {\n      data.props = await data.props;\n    }\n    if ((dev || isBuildTimeSSG) && !(0, _isserializableprops.isSerializableProps)(pathname, \"getServerSideProps\", data.props)) {\n      // this fn should throw an error instead of ever returning `false`\n      throw new Error(\"invariant: getServerSideProps did not return valid props. Please report this.\");\n    }\n    props.pageProps = Object.assign({}, props.pageProps, data.props);\n    renderResultMeta.pageData = props;\n  }\n  if (!isSSG &&\n  // we only show this warning for legacy pages\n  !getServerSideProps && process.env.NODE_ENV !== \"production\" && Object.keys((props == null ? void 0 : props.pageProps) || {}).includes(\"url\")) {\n    console.warn(`The prop \\`url\\` is a reserved prop in Next.js for legacy reasons and will be overridden on page ${pathname}\\n` + `See more info here: https://nextjs.org/docs/messages/reserved-page-prop`);\n  }\n  // Avoid rendering page un-necessarily for getServerSideProps data request\n  // and getServerSideProps/getStaticProps redirects\n  if (isDataReq && !isSSG || renderResultMeta.isRedirect) {\n    return new _renderresult.default(JSON.stringify(props), renderResultMeta);\n  }\n  // We don't call getStaticProps or getServerSideProps while generating\n  // the fallback so make sure to set pageProps to an empty object\n  if (isFallback) {\n    props.pageProps = {};\n  }\n  // the response might be finished on the getInitialProps call\n  if ((0, _utils.isResSent)(res) && !isSSG) return new _renderresult.default(null, renderResultMeta);\n  // we preload the buildManifest for auto-export dynamic pages\n  // to speed up hydrating query values\n  let filteredBuildManifest = buildManifest;\n  if (isAutoExport && pageIsDynamic) {\n    const page = (0, _denormalizepagepath.denormalizePagePath)((0, _normalizepagepath.normalizePagePath)(pathname));\n    // This code would be much cleaner using `immer` and directly pushing into\n    // the result from `getPageFiles`, we could maybe consider that in the\n    // future.\n    if (page in filteredBuildManifest.pages) {\n      filteredBuildManifest = {\n        ...filteredBuildManifest,\n        pages: {\n          ...filteredBuildManifest.pages,\n          [page]: [...filteredBuildManifest.pages[page], ...filteredBuildManifest.lowPriorityFiles.filter(f => f.includes(\"_buildManifest\"))]\n        },\n        lowPriorityFiles: filteredBuildManifest.lowPriorityFiles.filter(f => !f.includes(\"_buildManifest\"))\n      };\n    }\n  }\n  const Body = ({\n    children\n  }) => {\n    return inAmpMode ? children : /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"__next\"\n    }, children);\n  };\n  const renderDocument = async () => {\n    // For `Document`, there are two cases that we don't support:\n    // 1. Using `Document.getInitialProps` in the Edge runtime.\n    // 2. Using the class component `Document` with concurrent features.\n    const BuiltinFunctionalDocument = Document[_constants1.NEXT_BUILTIN_DOCUMENT];\n    if (process.env.NEXT_RUNTIME === \"edge\" && Document.getInitialProps) {\n      // In the Edge runtime, `Document.getInitialProps` isn't supported.\n      // We throw an error here if it's customized.\n      if (BuiltinFunctionalDocument) {\n        Document = BuiltinFunctionalDocument;\n      } else {\n        throw new Error(\"`getInitialProps` in Document component is not supported with the Edge Runtime.\");\n      }\n    }\n    async function loadDocumentInitialProps(renderShell) {\n      const renderPage = async (options = {}) => {\n        if (ctx.err && ErrorDebug) {\n          // Always start rendering the shell even if there's an error.\n          if (renderShell) {\n            renderShell(App, Component);\n          }\n          const html = await renderToString( /*#__PURE__*/_react.default.createElement(Body, null, /*#__PURE__*/_react.default.createElement(ErrorDebug, {\n            error: ctx.err\n          })));\n          return {\n            html,\n            head\n          };\n        }\n        if (dev && (props.router || props.Component)) {\n          throw new Error(`'router' and 'Component' can not be returned in getInitialProps from _app.js https://nextjs.org/docs/messages/cant-override-next-props`);\n        }\n        const {\n          App: EnhancedApp,\n          Component: EnhancedComponent\n        } = enhanceComponents(options, App, Component);\n        if (renderShell) {\n          return renderShell(EnhancedApp, EnhancedComponent).then(async stream => {\n            await stream.allReady;\n            const html = await (0, _nodewebstreamshelper.streamToString)(stream);\n            return {\n              html,\n              head\n            };\n          });\n        }\n        const html = await renderToString( /*#__PURE__*/_react.default.createElement(Body, null, /*#__PURE__*/_react.default.createElement(AppContainerWithIsomorphicFiberStructure, null, renderPageTree(EnhancedApp, EnhancedComponent, {\n          ...props,\n          router\n        }))));\n        return {\n          html,\n          head\n        };\n      };\n      const documentCtx = {\n        ...ctx,\n        renderPage\n      };\n      const docProps = await (0, _utils.loadGetInitialProps)(Document, documentCtx);\n      // the response might be finished on the getInitialProps call\n      if ((0, _utils.isResSent)(res) && !isSSG) return null;\n      if (!docProps || typeof docProps.html !== \"string\") {\n        const message = `\"${(0, _utils.getDisplayName)(Document)}.getInitialProps()\" should resolve to an object with a \"html\" prop set with a valid html string`;\n        throw new Error(message);\n      }\n      return {\n        docProps,\n        documentCtx\n      };\n    }\n    const renderContent = (_App, _Component) => {\n      const EnhancedApp = _App || App;\n      const EnhancedComponent = _Component || Component;\n      return ctx.err && ErrorDebug ? /*#__PURE__*/_react.default.createElement(Body, null, /*#__PURE__*/_react.default.createElement(ErrorDebug, {\n        error: ctx.err\n      })) : /*#__PURE__*/_react.default.createElement(Body, null, /*#__PURE__*/_react.default.createElement(AppContainerWithIsomorphicFiberStructure, null, renderPageTree(EnhancedApp, EnhancedComponent, {\n        ...props,\n        router\n      })));\n    };\n    // Always using react concurrent rendering mode with required react version 18.x\n    const renderShell = async (EnhancedApp, EnhancedComponent) => {\n      const content = renderContent(EnhancedApp, EnhancedComponent);\n      return await (0, _nodewebstreamshelper.renderToInitialStream)({\n        ReactDOMServer: _serverbrowser.default,\n        element: content\n      });\n    };\n    const createBodyResult = (0, _tracer.getTracer)().wrap(_constants2.RenderSpan.createBodyResult, (initialStream, suffix) => {\n      // this must be called inside bodyResult so appWrappers is\n      // up to date when `wrapApp` is called\n      const getServerInsertedHTML = async () => {\n        return renderToString(styledJsxInsertedHTML());\n      };\n      return (0, _nodewebstreamshelper.continueFromInitialStream)(initialStream, {\n        suffix,\n        dataStream: serverComponentsInlinedTransformStream == null ? void 0 : serverComponentsInlinedTransformStream.readable,\n        generateStaticHTML: true,\n        getServerInsertedHTML,\n        serverInsertedHTMLToHead: false\n      });\n    });\n    const hasDocumentGetInitialProps = !(process.env.NEXT_RUNTIME === \"edge\" || !Document.getInitialProps);\n    let bodyResult;\n    // If it has getInitialProps, we will render the shell in `renderPage`.\n    // Otherwise we do it right now.\n    let documentInitialPropsRes;\n    if (hasDocumentGetInitialProps) {\n      documentInitialPropsRes = await loadDocumentInitialProps(renderShell);\n      if (documentInitialPropsRes === null) return null;\n      const {\n        docProps\n      } = documentInitialPropsRes;\n      // includes suffix in initial html stream\n      bodyResult = suffix => createBodyResult((0, _nodewebstreamshelper.streamFromString)(docProps.html + suffix));\n    } else {\n      const stream = await renderShell(App, Component);\n      bodyResult = suffix => createBodyResult(stream, suffix);\n      documentInitialPropsRes = {};\n    }\n    const {\n      docProps\n    } = documentInitialPropsRes || {};\n    const documentElement = htmlProps => {\n      if (process.env.NEXT_RUNTIME === \"edge\") {\n        return Document();\n      } else {\n        return /*#__PURE__*/_react.default.createElement(Document, {\n          ...htmlProps,\n          ...docProps\n        });\n      }\n    };\n    let styles;\n    if (hasDocumentGetInitialProps) {\n      styles = docProps.styles;\n      head = docProps.head;\n    } else {\n      styles = jsxStyleRegistry.styles();\n      jsxStyleRegistry.flush();\n    }\n    return {\n      bodyResult,\n      documentElement,\n      head,\n      headTags: [],\n      styles\n    };\n  };\n  (_getTracer_getRootSpanAttributes = (0, _tracer.getTracer)().getRootSpanAttributes()) == null ? void 0 : _getTracer_getRootSpanAttributes.set(\"next.route\", renderOpts.page);\n  const documentResult = await (0, _tracer.getTracer)().trace(_constants2.RenderSpan.renderDocument, {\n    spanName: `render route (pages) ${renderOpts.page}`,\n    attributes: {\n      \"next.route\": renderOpts.page\n    }\n  }, async () => renderDocument());\n  if (!documentResult) {\n    return new _renderresult.default(null, renderResultMeta);\n  }\n  const dynamicImportsIds = new Set();\n  const dynamicImports = new Set();\n  for (const mod of reactLoadableModules) {\n    const manifestItem = reactLoadableManifest[mod];\n    if (manifestItem) {\n      dynamicImportsIds.add(manifestItem.id);\n      manifestItem.files.forEach(item => {\n        dynamicImports.add(item);\n      });\n    }\n  }\n  const hybridAmp = ampState.hybrid;\n  const docComponentsRendered = {};\n  const {\n    assetPrefix,\n    buildId,\n    customServer,\n    defaultLocale,\n    disableOptimizedLoading,\n    domainLocales,\n    locale,\n    locales,\n    runtimeConfig\n  } = renderOpts;\n  const htmlProps = {\n    __NEXT_DATA__: {\n      props,\n      page: pathname,\n      query,\n      buildId,\n      assetPrefix: assetPrefix === \"\" ? undefined : assetPrefix,\n      runtimeConfig,\n      nextExport: nextExport === true ? true : undefined,\n      autoExport: isAutoExport === true ? true : undefined,\n      isFallback,\n      dynamicIds: dynamicImportsIds.size === 0 ? undefined : Array.from(dynamicImportsIds),\n      err: renderOpts.err ? serializeError(dev, renderOpts.err) : undefined,\n      gsp: !!getStaticProps ? true : undefined,\n      gssp: !!getServerSideProps ? true : undefined,\n      customServer,\n      gip: hasPageGetInitialProps ? true : undefined,\n      appGip: !defaultAppGetInitialProps ? true : undefined,\n      locale,\n      locales,\n      defaultLocale,\n      domainLocales,\n      isPreview: isPreview === true ? true : undefined,\n      notFoundSrcPage: notFoundSrcPage && dev ? notFoundSrcPage : undefined\n    },\n    strictNextHead: renderOpts.strictNextHead,\n    buildManifest: filteredBuildManifest,\n    docComponentsRendered,\n    dangerousAsPath: router.asPath,\n    canonicalBase: !renderOpts.ampPath && (0, _requestmeta.getRequestMeta)(req, \"__nextStrippedLocale\") ? `${renderOpts.canonicalBase || \"\"}/${renderOpts.locale}` : renderOpts.canonicalBase,\n    ampPath,\n    inAmpMode,\n    isDevelopment: !!dev,\n    hybridAmp,\n    dynamicImports: Array.from(dynamicImports),\n    assetPrefix,\n    // Only enabled in production as development mode has features relying on HMR (style injection for example)\n    unstable_runtimeJS: process.env.NODE_ENV === \"production\" ? pageConfig.unstable_runtimeJS : undefined,\n    unstable_JsPreload: pageConfig.unstable_JsPreload,\n    assetQueryString,\n    scriptLoader,\n    locale,\n    disableOptimizedLoading,\n    head: documentResult.head,\n    headTags: documentResult.headTags,\n    styles: documentResult.styles,\n    crossOrigin: renderOpts.crossOrigin,\n    optimizeCss: renderOpts.optimizeCss,\n    optimizeFonts: renderOpts.optimizeFonts,\n    nextConfigOutput: renderOpts.nextConfigOutput,\n    nextScriptWorkers: renderOpts.nextScriptWorkers,\n    runtime: globalRuntime,\n    largePageDataBytes: renderOpts.largePageDataBytes,\n    nextFontManifest: renderOpts.nextFontManifest\n  };\n  const document = /*#__PURE__*/_react.default.createElement(_ampcontextsharedruntime.AmpStateContext.Provider, {\n    value: ampState\n  }, /*#__PURE__*/_react.default.createElement(_htmlcontextsharedruntime.HtmlContext.Provider, {\n    value: htmlProps\n  }, documentResult.documentElement(htmlProps)));\n  const documentHTML = await (0, _tracer.getTracer)().trace(_constants2.RenderSpan.renderToString, async () => renderToString(document));\n  if (process.env.NODE_ENV !== \"production\") {\n    const nonRenderedComponents = [];\n    const expectedDocComponents = [\"Main\", \"Head\", \"NextScript\", \"Html\"];\n    for (const comp of expectedDocComponents) {\n      if (!docComponentsRendered[comp]) {\n        nonRenderedComponents.push(comp);\n      }\n    }\n    if (nonRenderedComponents.length) {\n      const missingComponentList = nonRenderedComponents.map(e => `<${e} />`).join(\", \");\n      const plural = nonRenderedComponents.length !== 1 ? \"s\" : \"\";\n      console.warn(`Your custom Document (pages/_document) did not render all the required subcomponent${plural}.\\n` + `Missing component${plural}: ${missingComponentList}\\n` + \"Read how to fix here: https://nextjs.org/docs/messages/missing-document-component\");\n    }\n  }\n  const [renderTargetPrefix, renderTargetSuffix] = documentHTML.split(\"<next-js-internal-body-render-target></next-js-internal-body-render-target>\");\n  let prefix = \"\";\n  if (!documentHTML.startsWith(DOCTYPE)) {\n    prefix += DOCTYPE;\n  }\n  prefix += renderTargetPrefix;\n  if (inAmpMode) {\n    prefix += \"<!-- __NEXT_DATA__ -->\";\n  }\n  const streams = [(0, _nodewebstreamshelper.streamFromString)(prefix), await documentResult.bodyResult(renderTargetSuffix)];\n  const postOptimize = html => postProcessHTML(pathname, html, renderOpts, {\n    inAmpMode,\n    hybridAmp\n  });\n  const html = await (0, _nodewebstreamshelper.streamToString)((0, _nodewebstreamshelper.chainStreams)(streams));\n  const optimizedHtml = await postOptimize(html);\n  return new _renderresult.default(optimizedHtml, renderResultMeta);\n}\nconst renderToHTML = (req, res, pathname, query, renderOpts) => {\n  return renderToHTMLImpl(req, res, pathname, query, renderOpts, renderOpts);\n};","map":{"version":3,"names":["errorToJSON","renderToHTMLImpl","renderToHTML","tryGetPreviewData","warn","postProcessHTML","DOCTYPE","process","env","NEXT_RUNTIME","require","console","bind","_pathname","html","noRouter","message","Error","renderToString","element","renderStream","_serverbrowser","default","renderToReadableStream","allReady","_nodewebstreamshelper","streamToString","ServerRouter","constructor","pathname","query","as","isFallback","isReady","basePath","locale","locales","defaultLocale","domainLocales","isPreview","isLocaleDomain","route","replace","asPath","push","reload","back","forward","prefetch","beforePopState","enhanceComponents","options","App","Component","enhanceApp","enhanceComponent","renderPageTree","props","_react","createElement","invalidKeysMsg","methodName","invalidKeys","docsPathname","toLocaleLowerCase","join","checkRedirectValues","redirect","req","method","destination","permanent","statusCode","errors","hasStatusCode","hasPermanent","_redirectstatus","allowedStatusCodes","has","destinationType","basePathType","length","url","err","source","getErrorSource","name","_stripansi","stack","digest","serializeError","dev","res","renderOpts","extra","_getTracer_getRootSpanAttributes","_apiutils","setLazyProp","_getcookieparser","getCookieParser","headers","renderResultMeta","assetQueryString","Date","now","deploymentId","Object","assign","ampPath","pageConfig","buildManifest","reactLoadableManifest","ErrorDebug","getStaticProps","getStaticPaths","getServerSideProps","isDataReq","params","previewProps","images","runtime","globalRuntime","Document","OriginComponent","serverComponentsInlinedTransformStream","__nextFallback","notFoundSrcPage","__nextNotFoundSrcPage","_internalutils","stripInternalQueries","isSSG","isBuildTimeSSG","nextExport","defaultAppGetInitialProps","getInitialProps","origGetInitialProps","hasPageGetInitialProps","hasPageScripts","unstable_scriptLoader","pageIsDynamic","_isdynamic","isDynamicRoute","defaultErrorGetInitialProps","isAutoExport","_constants","SSG_GET_INITIAL_PROPS_CONFLICT","SERVER_PROPS_GET_INIT_PROPS_CONFLICT","SERVER_PROPS_SSG_CONFLICT","nextConfigOutput","resolvedAsPath","isValidElementType","amp","endsWith","STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR","_constants1","STATIC_STATUS_PAGES","includes","GSSP_COMPONENT_MEMBER_ERROR","_loadablesharedruntime","preloadAll","undefined","previewData","routerIsReady","router","_requestmeta","getRequestMeta","appRouter","_adapters","adaptForAppRouterInstance","scriptLoader","jsxStyleRegistry","_styledjsx","createStyleRegistry","ampState","ampFirst","hasQuery","Boolean","hybrid","inAmpMode","_ampmode","isInAmpMode","head","_head","defaultHead","reactLoadableModules","initialScripts","beforeInteractive","concat","filter","script","strategy","map","AppContainer","children","_approutercontextsharedruntime","AppRouterContext","Provider","value","_hooksclientcontextsharedruntime","SearchParamsContext","adaptForSearchParams","PathnameContextProviderAdapter","PathParamsContext","adaptForPathParams","_routercontextsharedruntime","RouterContext","_ampcontextsharedruntime","AmpStateContext","_headmanagercontextsharedruntime","HeadManagerContext","updateHead","state","updateScripts","scripts","mountedInstances","Set","_loadablecontextsharedruntime","LoadableContext","moduleName","StyleRegistry","registry","_imageconfigcontextsharedruntime","ImageConfigContext","Noop","AppContainerWithIsomorphicFiberStructure","Fragment","ctx","AppTree","defaultGetInitialProps","docCtx","AppComp","renderPageHead","renderPage","styles","nonce","flush","styledJsxInsertedHTML","_utils","loadGetInitialProps","__N_PREVIEW","STATIC_PROPS_ID","data","_tracer","getTracer","trace","_constants2","RenderSpan","spanName","attributes","draftMode","preview","staticPropsError","code","GSP_NO_RETURNED_VALUE","keys","key","UNSTABLE_REVALIDATE_RENAME_ERROR","NODE_ENV","notFound","isNotFound","__N_REDIRECT","__N_REDIRECT_STATUS","getRedirectStatus","__N_REDIRECT_BASE_PATH","isRedirect","_isserializableprops","isSerializableProps","revalidate","Number","isInteger","Math","ceil","JSON","stringify","pageProps","pageData","_renderresult","SERVER_PROPS_ID","canAccessRes","resOrProxy","deferredContent","Proxy","get","obj","prop","_reflect","ReflectAdapter","resolvedUrl","serverSidePropsError","_iserror","GSSP_NO_RETURNED_VALUE","Promise","unstable_notFound","unstable_redirect","isResSent","filteredBuildManifest","page","_denormalizepagepath","denormalizePagePath","_normalizepagepath","normalizePagePath","pages","lowPriorityFiles","f","Body","id","renderDocument","BuiltinFunctionalDocument","NEXT_BUILTIN_DOCUMENT","loadDocumentInitialProps","renderShell","error","EnhancedApp","EnhancedComponent","then","stream","documentCtx","docProps","getDisplayName","renderContent","_App","_Component","content","renderToInitialStream","ReactDOMServer","createBodyResult","wrap","initialStream","suffix","getServerInsertedHTML","continueFromInitialStream","dataStream","readable","generateStaticHTML","serverInsertedHTMLToHead","hasDocumentGetInitialProps","bodyResult","documentInitialPropsRes","streamFromString","documentElement","htmlProps","headTags","getRootSpanAttributes","set","documentResult","dynamicImportsIds","dynamicImports","mod","manifestItem","add","files","forEach","item","hybridAmp","docComponentsRendered","assetPrefix","buildId","customServer","disableOptimizedLoading","runtimeConfig","__NEXT_DATA__","autoExport","dynamicIds","size","Array","from","gsp","gssp","gip","appGip","strictNextHead","dangerousAsPath","canonicalBase","isDevelopment","unstable_runtimeJS","unstable_JsPreload","crossOrigin","optimizeCss","optimizeFonts","nextScriptWorkers","largePageDataBytes","nextFontManifest","document","_htmlcontextsharedruntime","HtmlContext","documentHTML","nonRenderedComponents","expectedDocComponents","comp","missingComponentList","e","plural","renderTargetPrefix","renderTargetSuffix","split","prefix","startsWith","streams","postOptimize","chainStreams","optimizedHtml"],"sources":["../../src/server/render.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}