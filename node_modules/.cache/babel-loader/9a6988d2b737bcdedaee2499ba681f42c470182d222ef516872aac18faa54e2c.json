{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getModuleBuildError\", {\n  enumerable: true,\n  get: function () {\n    return getModuleBuildError;\n  }\n});\nconst _fs = require(\"fs\");\nconst _path = /*#__PURE__*/_interop_require_wildcard(require(\"path\"));\nconst _parseBabel = require(\"./parseBabel\");\nconst _parseCss = require(\"./parseCss\");\nconst _parseScss = require(\"./parseScss\");\nconst _parseNotFoundError = require(\"./parseNotFoundError\");\nconst _iserror = /*#__PURE__*/_interop_require_default(require(\"../../../../lib/is-error\"));\nconst _parseRSC = require(\"./parseRSC\");\nconst _parseNextFontError = require(\"./parseNextFontError\");\nconst _parseNextAppLoaderError = require(\"./parseNextAppLoaderError\");\nconst _parseNextInvalidImportError = require(\"./parseNextInvalidImportError\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction getFileData(compilation, m) {\n  var _compilation_compiler;\n  let resolved;\n  let ctx = ((_compilation_compiler = compilation.compiler) == null ? void 0 : _compilation_compiler.context) ?? null;\n  if (ctx !== null && typeof m.resource === \"string\") {\n    const res = _path.relative(ctx, m.resource).replace(/\\\\/g, _path.posix.sep);\n    resolved = res.startsWith(\".\") ? res : `.${_path.posix.sep}${res}`;\n  } else {\n    const requestShortener = compilation.requestShortener;\n    if (typeof (m == null ? void 0 : m.readableIdentifier) === \"function\") {\n      resolved = m.readableIdentifier(requestShortener);\n    } else {\n      resolved = m.request ?? m.userRequest;\n    }\n  }\n  if (resolved) {\n    let content = null;\n    try {\n      content = (0, _fs.readFileSync)(ctx ? _path.resolve(ctx, resolved) : resolved, \"utf8\");\n    } catch {}\n    return [resolved, content];\n  }\n  return [\"<unknown>\", null];\n}\nasync function getModuleBuildError(compiler, compilation, input) {\n  if (!(typeof input === \"object\" && ((input == null ? void 0 : input.name) === \"ModuleBuildError\" || (input == null ? void 0 : input.name) === \"ModuleNotFoundError\") && Boolean(input.module) && (0, _iserror.default)(input.error))) {\n    return false;\n  }\n  const err = input.error;\n  const [sourceFilename, sourceContent] = getFileData(compilation, input.module);\n  const notFoundError = await (0, _parseNotFoundError.getNotFoundError)(compilation, input, sourceFilename, input.module);\n  if (notFoundError !== false) {\n    return notFoundError;\n  }\n  const imageError = await (0, _parseNotFoundError.getImageError)(compilation, input, err);\n  if (imageError !== false) {\n    return imageError;\n  }\n  const babel = (0, _parseBabel.getBabelError)(sourceFilename, err);\n  if (babel !== false) {\n    return babel;\n  }\n  const css = (0, _parseCss.getCssError)(sourceFilename, err);\n  if (css !== false) {\n    return css;\n  }\n  const scss = (0, _parseScss.getScssError)(sourceFilename, sourceContent, err);\n  if (scss !== false) {\n    return scss;\n  }\n  const rsc = (0, _parseRSC.getRscError)(sourceFilename, err, input.module, compilation, compiler);\n  if (rsc !== false) {\n    return rsc;\n  }\n  const nextFont = (0, _parseNextFontError.getNextFontError)(err, input.module);\n  if (nextFont !== false) {\n    return nextFont;\n  }\n  const nextAppLoader = (0, _parseNextAppLoaderError.getNextAppLoaderError)(err, input.module, compiler);\n  if (nextAppLoader !== false) {\n    return nextAppLoader;\n  }\n  const invalidImportError = (0, _parseNextInvalidImportError.getNextInvalidImportError)(err, input.module, compilation, compiler);\n  if (invalidImportError !== false) {\n    return invalidImportError;\n  }\n  return false;\n}","map":{"version":3,"names":["getModuleBuildError","getFileData","compilation","m","_compilation_compiler","resolved","ctx","compiler","context","resource","res","_path","relative","replace","posix","sep","startsWith","requestShortener","readableIdentifier","request","userRequest","content","_fs","readFileSync","resolve","input","name","Boolean","module","_iserror","default","error","err","sourceFilename","sourceContent","notFoundError","_parseNotFoundError","getNotFoundError","imageError","getImageError","babel","_parseBabel","getBabelError","css","_parseCss","getCssError","scss","_parseScss","getScssError","rsc","_parseRSC","getRscError","nextFont","_parseNextFontError","getNextFontError","nextAppLoader","_parseNextAppLoaderError","getNextAppLoaderError","invalidImportError","_parseNextInvalidImportError","getNextInvalidImportError"],"sources":["../../../../../src/build/webpack/plugins/wellknown-errors-plugin/webpackModuleError.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}