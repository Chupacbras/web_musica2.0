{"ast":null,"code":"var _jsxFileName = \"/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js\";\nimport React from 'react';\nimport { Howl } from 'howler';\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\nimport './Estilos/music-player.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MusicPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playTrack = () => {\n      const {\n        currentTrack,\n        sound\n      } = this.state;\n      if (sound) {\n        sound.unload();\n      }\n      const newSound = new Howl({\n        src: [this.props.audioFiles[currentTrack]],\n        onend: () => {\n          this.playNextTrack();\n        }\n      });\n      newSound.play();\n      this.setState({\n        sound: newSound,\n        isPlaying: true,\n        currentFileName: this.props.audioFiles[currentTrack] // Actualiza el nombre del archivo actual\n      });\n    };\n    this.togglePlay = () => {\n      const {\n        isPlaying,\n        sound\n      } = this.state;\n      if (isPlaying) {\n        sound.pause();\n      } else {\n        sound.play();\n      }\n      this.setState({\n        isPlaying: !isPlaying\n      });\n    };\n    this.playPreviousTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.playNextTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.onMouseDown = e => {\n      const offsetX = e.clientX - this.state.positionX;\n      const offsetY = e.clientY - this.state.positionY;\n      this.setState({\n        offsetX,\n        offsetY,\n        dragging: true\n      });\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    };\n    this.onMouseMove = e => {\n      if (this.state.dragging) {\n        const positionX = e.clientX - this.state.offsetX;\n        const positionY = e.clientY - this.state.offsetY;\n        this.setState({\n          positionX,\n          positionY\n        });\n      }\n    };\n    this.onMouseUp = () => {\n      this.setState({\n        dragging: false\n      });\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    };\n    const initialSound = new Howl({\n      src: []\n    });\n    this.state = {\n      isPlaying: false,\n      currentTrack: 0,\n      sound: initialSound,\n      positionX: 0,\n      positionY: 0,\n      dragging: false,\n      currentFileName: ''\n    };\n  }\n  componentDidMount() {\n    // Reproduce la primera canción al iniciar la aplicación\n    this.playTrack();\n  }\n  componentWillUnmount() {\n    // Descargar el sonido cuando el componente se desmonta para evitar pérdida de memoria\n    this.state.sound.unload();\n  }\n  render() {\n    const {\n      isPlaying,\n      positionX,\n      positionY,\n      dragging,\n      currentFileName\n    } = this.state;\n    const style = {\n      transform: `translate(${positionX}px, ${positionY}px)`,\n      cursor: dragging ? 'grabbing' : 'grab',\n      position: 'absolute',\n      bottom: '0',\n      right: '0'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"music-player\",\n      style: style,\n      onMouseDown: this.onMouseDown,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-file\",\n          children: currentFileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playPreviousTrack,\n          children: /*#__PURE__*/_jsxDEV(FaBackward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.togglePlay,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(FaPause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playNextTrack,\n          children: /*#__PURE__*/_jsxDEV(FaForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MusicPlayer;","map":{"version":3,"names":["React","Howl","FaPlay","FaPause","FaForward","FaBackward","jsxDEV","_jsxDEV","MusicPlayer","Component","constructor","props","playTrack","currentTrack","sound","state","unload","newSound","src","audioFiles","onend","playNextTrack","play","setState","isPlaying","currentFileName","togglePlay","pause","playPreviousTrack","newTrack","length","onMouseDown","e","offsetX","clientX","positionX","offsetY","clientY","positionY","dragging","document","addEventListener","onMouseMove","onMouseUp","removeEventListener","initialSound","componentDidMount","componentWillUnmount","render","style","transform","cursor","position","bottom","right","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js"],"sourcesContent":["import React from 'react';\r\nimport { Howl } from 'howler';\r\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\r\nimport './Estilos/music-player.css';\r\n\r\nclass MusicPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const initialSound = new Howl({ src: [] });\r\n    this.state = {\r\n      isPlaying: false,\r\n      currentTrack: 0,\r\n      sound: initialSound,\r\n      positionX: 0,\r\n      positionY: 0,\r\n      dragging: false,\r\n      currentFileName: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Reproduce la primera canción al iniciar la aplicación\r\n    this.playTrack();\r\n  }\r\n\r\n  playTrack = () => {\r\n    const { currentTrack, sound } = this.state;\r\n\r\n    if (sound) {\r\n      sound.unload();\r\n    }\r\n\r\n    const newSound = new Howl({\r\n      src: [this.props.audioFiles[currentTrack]],\r\n      onend: () => {\r\n        this.playNextTrack();\r\n      },\r\n    });\r\n\r\n    newSound.play();\r\n\r\n    this.setState({\r\n      sound: newSound,\r\n      isPlaying: true,\r\n      currentFileName: this.props.audioFiles[currentTrack], // Actualiza el nombre del archivo actual\r\n    });\r\n  };\r\n\r\n  togglePlay = () => {\r\n    const { isPlaying, sound } = this.state;\r\n    if (isPlaying) {\r\n      sound.pause();\r\n    } else {\r\n      sound.play();\r\n    }\r\n\r\n    this.setState({\r\n      isPlaying: !isPlaying,\r\n    });\r\n  };\r\n\r\n  playPreviousTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\r\n    this.setState(\r\n      {\r\n        currentTrack: newTrack,\r\n      },\r\n      () => {\r\n        this.playTrack();\r\n      }\r\n    );\r\n  };\r\n\r\n  playNextTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\r\n    this.setState(\r\n      {\r\n        currentTrack: newTrack,\r\n      },\r\n      () => {\r\n        this.playTrack();\r\n      }\r\n    );\r\n  };\r\n\r\n  onMouseDown = (e) => {\r\n    const offsetX = e.clientX - this.state.positionX;\r\n    const offsetY = e.clientY - this.state.positionY;\r\n    this.setState({ offsetX, offsetY, dragging: true });\r\n\r\n    document.addEventListener('mousemove', this.onMouseMove);\r\n    document.addEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n  onMouseMove = (e) => {\r\n    if (this.state.dragging) {\r\n      const positionX = e.clientX - this.state.offsetX;\r\n      const positionY = e.clientY - this.state.offsetY;\r\n      this.setState({ positionX, positionY });\r\n    }\r\n  };\r\n\r\n  onMouseUp = () => {\r\n    this.setState({ dragging: false });\r\n\r\n    document.removeEventListener('mousemove', this.onMouseMove);\r\n    document.removeEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // Descargar el sonido cuando el componente se desmonta para evitar pérdida de memoria\r\n    this.state.sound.unload();\r\n  }\r\n\r\n  render() {\r\n    const { isPlaying, positionX, positionY, dragging, currentFileName } = this.state;\r\n    const style = {\r\n      transform: `translate(${positionX}px, ${positionY}px)`,\r\n      cursor: dragging ? 'grabbing' : 'grab',\r\n      position: 'absolute',\r\n      bottom: '0',\r\n      right: '0',\r\n    };\r\n\r\n    return (\r\n      <div className=\"music-player\" style={style} onMouseDown={this.onMouseDown}>\r\n        <div className=\"controls\">\r\n          <span className=\"current-file\">{currentFileName}</span>\r\n          <button onClick={this.playPreviousTrack}>\r\n            <FaBackward />\r\n          </button>\r\n          <button onClick={this.togglePlay}>\r\n            {isPlaying ? <FaPause /> : <FaPlay />}\r\n          </button>\r\n          <button onClick={this.playNextTrack}>\r\n            <FaForward />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MusicPlayer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}