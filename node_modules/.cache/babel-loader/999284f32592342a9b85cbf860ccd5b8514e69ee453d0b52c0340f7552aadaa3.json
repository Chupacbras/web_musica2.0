{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getScssError\", {\n  enumerable: true,\n  get: function () {\n    return getScssError;\n  }\n});\nconst _chalk = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/chalk\"));\nconst _simpleWebpackError = require(\"./simpleWebpackError\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst chalk = new _chalk.default.constructor({\n  enabled: true\n});\nconst regexScssError = /SassError: (.+)\\n\\s+on line (\\d+) [\\s\\S]*?>> (.+)\\n\\s*(-+)\\^$/m;\nfunction getScssError(fileName, fileContent, err) {\n  if (err.name !== \"SassError\") {\n    return false;\n  }\n  const res = regexScssError.exec(err.message);\n  if (res) {\n    const [, reason, _lineNumer, backupFrame, columnString] = res;\n    const lineNumber = Math.max(1, parseInt(_lineNumer, 10));\n    const column = (columnString == null ? void 0 : columnString.length) ?? 1;\n    let frame;\n    if (fileContent) {\n      try {\n        const {\n          codeFrameColumns\n        } = require(\"next/dist/compiled/babel/code-frame\");\n        frame = codeFrameColumns(fileContent, {\n          start: {\n            line: lineNumber,\n            column\n          }\n        }, {\n          forceColor: true\n        });\n      } catch {}\n    }\n    return new _simpleWebpackError.SimpleWebpackError(`${chalk.cyan(fileName)}:${chalk.yellow(lineNumber.toString())}:${chalk.yellow(column.toString())}`, chalk.red.bold(\"Syntax error\").concat(`: ${reason}\\n\\n${frame ?? backupFrame}`));\n  }\n  return false;\n}","map":{"version":3,"names":["getScssError","chalk","_chalk","default","constructor","enabled","regexScssError","fileName","fileContent","err","name","res","exec","message","reason","_lineNumer","backupFrame","columnString","lineNumber","Math","max","parseInt","column","length","frame","codeFrameColumns","require","start","line","forceColor","_simpleWebpackError","SimpleWebpackError","cyan","yellow","toString","red","bold","concat"],"sources":["../../../../../src/build/webpack/plugins/wellknown-errors-plugin/parseScss.ts"],"sourcesContent":[null],"mappings":";;;;;+BAOgB;;;WAAAA,YAAA;;;6DAPE;oCACiB;;;;;;AAEnC,MAAMC,KAAA,GAAQ,IAAIC,MAAA,CAAAC,OAAK,CAACC,WAAW,CAAC;EAAEC,OAAA,EAAS;AAAK;AACpD,MAAMC,cAAA,GACJ;AAEK,SAASN,aACdO,QAAgB,EAChBC,WAA0B,EAC1BC,GAAU;EAEV,IAAIA,GAAA,CAAIC,IAAI,KAAK,aAAa;IAC5B,OAAO;EACT;EAEA,MAAMC,GAAA,GAAML,cAAA,CAAeM,IAAI,CAACH,GAAA,CAAII,OAAO;EAC3C,IAAIF,GAAA,EAAK;IACP,MAAM,GAAGG,MAAA,EAAQC,UAAA,EAAYC,WAAA,EAAaC,YAAA,CAAa,GAAGN,GAAA;IAC1D,MAAMO,UAAA,GAAaC,IAAA,CAAKC,GAAG,CAAC,GAAGC,QAAA,CAASN,UAAA,EAAY;IACpD,MAAMO,MAAA,GAAS,CAAAL,YAAA,oBAAAA,YAAA,CAAcM,MAAM,KAAI;IAEvC,IAAIC,KAAA;IACJ,IAAIhB,WAAA,EAAa;MACf,IAAI;QACF,MAAM;UACJiB;QAAgB,CACjB,GAAGC,OAAA,CAAQ;QACZF,KAAA,GAAQC,gBAAA,CACNjB,WAAA,EACA;UAAEmB,KAAA,EAAO;YAAEC,IAAA,EAAMV,UAAA;YAAYI;UAAO;QAAE,GACtC;UAAEO,UAAA,EAAY;QAAK;MAEvB,EAAE,MAAM,CAAC;IACX;IAEA,OAAO,IAAIC,mBAAA,CAAAC,kBAAkB,CAC1B,GAAE9B,KAAA,CAAM+B,IAAI,CAACzB,QAAA,CAAU,IAAGN,KAAA,CAAMgC,MAAM,CACrCf,UAAA,CAAWgB,QAAQ,GACnB,IAAGjC,KAAA,CAAMgC,MAAM,CAACX,MAAA,CAAOY,QAAQ,GAAI,EAAC,EACtCjC,KAAA,CAAMkC,GAAG,CACNC,IAAI,CAAC,gBACLC,MAAM,CAAE,KAAIvB,MAAO,OAAMU,KAAA,IAASR,WAAY,EAAC;EAEtD;EAEA,OAAO;AACT"},"metadata":{},"sourceType":"script","externalDependencies":[]}