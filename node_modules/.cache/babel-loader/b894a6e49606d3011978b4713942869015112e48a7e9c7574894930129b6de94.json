{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getProjectDir\", {\n  enumerable: true,\n  get: function () {\n    return getProjectDir;\n  }\n});\nconst _path = /*#__PURE__*/_interop_require_default(require(\"path\"));\nconst _commands = require(\"./commands\");\nconst _log = /*#__PURE__*/_interop_require_wildcard(require(\"../build/output/log\"));\nconst _detecttypo = require(\"./detect-typo\");\nconst _realpath = require(\"./realpath\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction getProjectDir(dir) {\n  try {\n    const resolvedDir = _path.default.resolve(dir || \".\");\n    const realDir = (0, _realpath.realpathSync)(resolvedDir);\n    if (resolvedDir !== realDir && resolvedDir.toLowerCase() === realDir.toLowerCase()) {\n      _log.warn(`Invalid casing detected for project dir, received ${resolvedDir} actual path ${realDir}, see more info here https://nextjs.org/docs/messages/invalid-project-dir-casing`);\n    }\n    return realDir;\n  } catch (err) {\n    if (err.code === \"ENOENT\") {\n      if (typeof dir === \"string\") {\n        const detectedTypo = (0, _detecttypo.detectTypo)(dir, Object.keys(_commands.commands));\n        if (detectedTypo) {\n          _log.error(`\"next ${dir}\" does not exist. Did you mean \"next ${detectedTypo}\"?`);\n          process.exit(1);\n        }\n      }\n      _log.error(`Invalid project directory provided, no such directory: ${_path.default.resolve(dir || \".\")}`);\n      process.exit(1);\n    }\n    throw err;\n  }\n}","map":{"version":3,"names":["getProjectDir","dir","resolvedDir","_path","default","resolve","realDir","_realpath","realpathSync","toLowerCase","_log","warn","err","code","detectedTypo","_detecttypo","detectTypo","Object","keys","_commands","commands","error","process","exit"],"sources":["../../src/lib/get-project-dir.ts"],"sourcesContent":[null],"mappings":";;;;;+BAMgB;;;WAAAA,aAAA;;;4DANC;0BACQ;4DACJ;4BACM;0BACE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEtB,SAASA,cAAcC,GAAY;EACxC,IAAI;IACF,MAAMC,WAAA,GAAcC,KAAA,CAAAC,OAAI,CAACC,OAAO,CAACJ,GAAA,IAAO;IACxC,MAAMK,OAAA,GAAU,IAAAC,SAAA,CAAAC,YAAY,EAACN,WAAA;IAE7B,IACEA,WAAA,KAAgBI,OAAA,IAChBJ,WAAA,CAAYO,WAAW,OAAOH,OAAA,CAAQG,WAAW,IACjD;MACAC,IAAA,CAAIC,IAAI,CACL,qDAAoDT,WAAY,gBAAeI,OAAQ,kFAAiF;IAE7K;IAEA,OAAOA,OAAA;EACT,EAAE,OAAOM,GAAA,EAAU;IACjB,IAAIA,GAAA,CAAIC,IAAI,KAAK,UAAU;MACzB,IAAI,OAAOZ,GAAA,KAAQ,UAAU;QAC3B,MAAMa,YAAA,GAAe,IAAAC,WAAA,CAAAC,UAAU,EAACf,GAAA,EAAKgB,MAAA,CAAOC,IAAI,CAACC,SAAA,CAAAC,QAAQ;QAEzD,IAAIN,YAAA,EAAc;UAChBJ,IAAA,CAAIW,KAAK,CACN,SAAQpB,GAAI,wCAAuCa,YAAa,IAAG;UAEtEQ,OAAA,CAAQC,IAAI,CAAC;QACf;MACF;MAEAb,IAAA,CAAIW,KAAK,CACN,0DAAyDlB,KAAA,CAAAC,OAAI,CAACC,OAAO,CACpEJ,GAAA,IAAO,IACP,EAAC;MAELqB,OAAA,CAAQC,IAAI,CAAC;IACf;IACA,MAAMX,GAAA;EACR;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}