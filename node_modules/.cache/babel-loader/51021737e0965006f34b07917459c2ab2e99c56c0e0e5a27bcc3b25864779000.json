{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  markAssetError: null,\n  isAssetError: null,\n  getClientBuildManifest: null,\n  createRouteLoader: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  markAssetError: function () {\n    return markAssetError;\n  },\n  isAssetError: function () {\n    return isAssetError;\n  },\n  getClientBuildManifest: function () {\n    return getClientBuildManifest;\n  },\n  createRouteLoader: function () {\n    return createRouteLoader;\n  }\n});\nconst _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nconst _getassetpathfromroute = /*#__PURE__*/_interop_require_default._(require(\"../shared/lib/router/utils/get-asset-path-from-route\"));\nconst _trustedtypes = require(\"./trusted-types\");\nconst _requestidlecallback = require(\"./request-idle-callback\");\n// 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\nconst MS_MAX_IDLE_DELAY = 3800;\nfunction withFuture(key, map, generator) {\n  let entry = map.get(key);\n  if (entry) {\n    if (\"future\" in entry) {\n      return entry.future;\n    }\n    return Promise.resolve(entry);\n  }\n  let resolver;\n  const prom = new Promise(resolve => {\n    resolver = resolve;\n  });\n  map.set(key, entry = {\n    resolve: resolver,\n    future: prom\n  });\n  return generator ? generator() // eslint-disable-next-line no-sequences\n  .then(value => (resolver(value), value)).catch(err => {\n    map.delete(key);\n    throw err;\n  }) : prom;\n}\nconst ASSET_LOAD_ERROR = Symbol(\"ASSET_LOAD_ERROR\");\nfunction markAssetError(err) {\n  return Object.defineProperty(err, ASSET_LOAD_ERROR, {});\n}\nfunction isAssetError(err) {\n  return err && ASSET_LOAD_ERROR in err;\n}\nfunction hasPrefetch(link) {\n  try {\n    link = document.createElement(\"link\");\n    return (\n      // detect IE11 since it supports prefetch but isn't detected\n      // with relList.support\n      !!window.MSInputMethodContext && !!document.documentMode || link.relList.supports(\"prefetch\")\n    );\n  } catch (e) {\n    return false;\n  }\n}\nconst canPrefetch = hasPrefetch();\nconst getAssetQueryString = () => {\n  return process.env.NEXT_DEPLOYMENT_ID ? \"?dpl=\" + process.env.NEXT_DEPLOYMENT_ID : \"\";\n};\nfunction prefetchViaDom(href, as, link) {\n  return new Promise((resolve, reject) => {\n    const selector = '\\n      link[rel=\"prefetch\"][href^=\"' + href + '\"],\\n      link[rel=\"preload\"][href^=\"' + href + '\"],\\n      script[src^=\"' + href + '\"]';\n    if (document.querySelector(selector)) {\n      return resolve();\n    }\n    link = document.createElement(\"link\");\n    // The order of property assignment here is intentional:\n    if (as) link.as = as;\n    link.rel = \"prefetch\";\n    link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n    link.onload = resolve;\n    link.onerror = () => reject(markAssetError(new Error(\"Failed to prefetch: \" + href)));\n    // `href` should always be last:\n    link.href = href;\n    document.head.appendChild(link);\n  });\n}\nfunction appendScript(src, script) {\n  return new Promise((resolve, reject) => {\n    script = document.createElement(\"script\");\n    // The order of property assignment here is intentional.\n    // 1. Setup success/failure hooks in case the browser synchronously\n    //    executes when `src` is set.\n    script.onload = resolve;\n    script.onerror = () => reject(markAssetError(new Error(\"Failed to load script: \" + src)));\n    // 2. Configure the cross-origin attribute before setting `src` in case the\n    //    browser begins to fetch.\n    script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n    // 3. Finally, set the source and inject into the DOM in case the child\n    //    must be appended for fetching to start.\n    script.src = src;\n    document.body.appendChild(script);\n  });\n}\n// We wait for pages to be built in dev before we start the route transition\n// timeout to prevent an un-necessary hard navigation in development.\nlet devBuildPromise;\n// Resolve a promise that times out after given amount of milliseconds.\nfunction resolvePromiseWithTimeout(p, ms, err) {\n  return new Promise((resolve, reject) => {\n    let cancelled = false;\n    p.then(r => {\n      // Resolved, cancel the timeout\n      cancelled = true;\n      resolve(r);\n    }).catch(reject);\n    // We wrap these checks separately for better dead-code elimination in\n    // production bundles.\n    if (process.env.NODE_ENV === \"development\") {\n      (devBuildPromise || Promise.resolve()).then(() => {\n        (0, _requestidlecallback.requestIdleCallback)(() => setTimeout(() => {\n          if (!cancelled) {\n            reject(err);\n          }\n        }, ms));\n      });\n    }\n    if (process.env.NODE_ENV !== \"development\") {\n      (0, _requestidlecallback.requestIdleCallback)(() => setTimeout(() => {\n        if (!cancelled) {\n          reject(err);\n        }\n      }, ms));\n    }\n  });\n}\nfunction getClientBuildManifest() {\n  if (self.__BUILD_MANIFEST) {\n    return Promise.resolve(self.__BUILD_MANIFEST);\n  }\n  const onBuildManifest = new Promise(resolve => {\n    // Mandatory because this is not concurrent safe:\n    const cb = self.__BUILD_MANIFEST_CB;\n    self.__BUILD_MANIFEST_CB = () => {\n      resolve(self.__BUILD_MANIFEST);\n      cb && cb();\n    };\n  });\n  return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error(\"Failed to load client build manifest\")));\n}\nfunction getFilesForRoute(assetPrefix, route) {\n  if (process.env.NODE_ENV === \"development\") {\n    const scriptUrl = assetPrefix + \"/_next/static/chunks/pages\" + encodeURI((0, _getassetpathfromroute.default)(route, \".js\")) + getAssetQueryString();\n    return Promise.resolve({\n      scripts: [(0, _trustedtypes.__unsafeCreateTrustedScriptURL)(scriptUrl)],\n      // Styles are handled by `style-loader` in development:\n      css: []\n    });\n  }\n  return getClientBuildManifest().then(manifest => {\n    if (!(route in manifest)) {\n      throw markAssetError(new Error(\"Failed to lookup route: \" + route));\n    }\n    const allFiles = manifest[route].map(entry => assetPrefix + \"/_next/\" + encodeURI(entry));\n    return {\n      scripts: allFiles.filter(v => v.endsWith(\".js\")).map(v => (0, _trustedtypes.__unsafeCreateTrustedScriptURL)(v) + getAssetQueryString()),\n      css: allFiles.filter(v => v.endsWith(\".css\")).map(v => v + getAssetQueryString())\n    };\n  });\n}\nfunction createRouteLoader(assetPrefix) {\n  const entrypoints = new Map();\n  const loadedScripts = new Map();\n  const styleSheets = new Map();\n  const routes = new Map();\n  function maybeExecuteScript(src) {\n    // With HMR we might need to \"reload\" scripts when they are\n    // disposed and readded. Executing scripts twice has no functional\n    // differences\n    if (process.env.NODE_ENV !== \"development\") {\n      let prom = loadedScripts.get(src.toString());\n      if (prom) {\n        return prom;\n      }\n      // Skip executing script if it's already in the DOM:\n      if (document.querySelector('script[src^=\"' + src + '\"]')) {\n        return Promise.resolve();\n      }\n      loadedScripts.set(src.toString(), prom = appendScript(src));\n      return prom;\n    } else {\n      return appendScript(src);\n    }\n  }\n  function fetchStyleSheet(href) {\n    let prom = styleSheets.get(href);\n    if (prom) {\n      return prom;\n    }\n    styleSheets.set(href, prom = fetch(href).then(res => {\n      if (!res.ok) {\n        throw new Error(\"Failed to load stylesheet: \" + href);\n      }\n      return res.text().then(text => ({\n        href: href,\n        content: text\n      }));\n    }).catch(err => {\n      throw markAssetError(err);\n    }));\n    return prom;\n  }\n  return {\n    whenEntrypoint(route) {\n      return withFuture(route, entrypoints);\n    },\n    onEntrypoint(route, execute) {\n      (execute ? Promise.resolve().then(() => execute()).then(exports1 => ({\n        component: exports1 && exports1.default || exports1,\n        exports: exports1\n      }), err => ({\n        error: err\n      })) : Promise.resolve(undefined)).then(input => {\n        const old = entrypoints.get(route);\n        if (old && \"resolve\" in old) {\n          if (input) {\n            entrypoints.set(route, input);\n            old.resolve(input);\n          }\n        } else {\n          if (input) {\n            entrypoints.set(route, input);\n          } else {\n            entrypoints.delete(route);\n          }\n          // when this entrypoint has been resolved before\n          // the route is outdated and we want to invalidate\n          // this cache entry\n          routes.delete(route);\n        }\n      });\n    },\n    loadRoute(route, prefetch) {\n      return withFuture(route, routes, () => {\n        let devBuildPromiseResolve;\n        if (process.env.NODE_ENV === \"development\") {\n          devBuildPromise = new Promise(resolve => {\n            devBuildPromiseResolve = resolve;\n          });\n        }\n        return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix, route).then(param => {\n          let {\n            scripts,\n            css\n          } = param;\n          return Promise.all([entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)), Promise.all(css.map(fetchStyleSheet))]);\n        }).then(res => {\n          return this.whenEntrypoint(route).then(entrypoint => ({\n            entrypoint,\n            styles: res[1]\n          }));\n        }), MS_MAX_IDLE_DELAY, markAssetError(new Error(\"Route did not complete loading: \" + route))).then(param => {\n          let {\n            entrypoint,\n            styles\n          } = param;\n          const res = Object.assign({\n            styles: styles\n          }, entrypoint);\n          return \"error\" in entrypoint ? entrypoint : res;\n        }).catch(err => {\n          if (prefetch) {\n            // we don't want to cache errors during prefetch\n            throw err;\n          }\n          return {\n            error: err\n          };\n        }).finally(() => devBuildPromiseResolve == null ? void 0 : devBuildPromiseResolve());\n      });\n    },\n    prefetch(route) {\n      // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n      // License: Apache 2.0\n      let cn;\n      if (cn = navigator.connection) {\n        // Don't prefetch if using 2G or if Save-Data is enabled.\n        if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n      }\n      return getFilesForRoute(assetPrefix, route).then(output => Promise.all(canPrefetch ? output.scripts.map(script => prefetchViaDom(script.toString(), \"script\")) : [])).then(() => {\n        (0, _requestidlecallback.requestIdleCallback)(() => this.loadRoute(route, true).catch(() => {}));\n      }).catch(\n      // swallow prefetch errors\n      () => {});\n    }\n  };\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["markAssetError","isAssetError","getClientBuildManifest","createRouteLoader","MS_MAX_IDLE_DELAY","withFuture","key","map","generator","entry","get","future","Promise","resolve","resolver","prom","set","then","value","catch","err","delete","ASSET_LOAD_ERROR","Symbol","Object","defineProperty","hasPrefetch","link","document","createElement","window","MSInputMethodContext","documentMode","relList","supports","e","canPrefetch","getAssetQueryString","process","env","NEXT_DEPLOYMENT_ID","prefetchViaDom","href","as","reject","selector","querySelector","rel","crossOrigin","__NEXT_CROSS_ORIGIN","onload","onerror","Error","head","appendChild","appendScript","src","script","body","devBuildPromise","resolvePromiseWithTimeout","p","ms","cancelled","r","NODE_ENV","_requestidlecallback","requestIdleCallback","setTimeout","self","__BUILD_MANIFEST","onBuildManifest","cb","__BUILD_MANIFEST_CB","getFilesForRoute","assetPrefix","route","scriptUrl","encodeURI","_getassetpathfromroute","default","scripts","_trustedtypes","__unsafeCreateTrustedScriptURL","css","manifest","allFiles","filter","v","endsWith","entrypoints","Map","loadedScripts","styleSheets","routes","maybeExecuteScript","toString","fetchStyleSheet","fetch","res","ok","text","content","whenEntrypoint","onEntrypoint","execute","exports1","component","exports","error","undefined","input","old","loadRoute","prefetch","devBuildPromiseResolve","param","all","has","entrypoint","styles","assign","finally","cn","navigator","connection","saveData","test","effectiveType","output"],"sources":["../../src/client/route-loader.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}