{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"base\", {\n  enumerable: true,\n  get: function () {\n    return base;\n  }\n});\nconst _lodashcurry = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/lodash.curry\"));\nconst _constants = require(\"../../../../shared/lib/constants\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst base = (0, _lodashcurry.default)(function base(ctx, config) {\n  config.mode = ctx.isDevelopment ? \"development\" : \"production\";\n  config.name = ctx.isServer ? ctx.isEdgeRuntime ? _constants.COMPILER_NAMES.edgeServer : _constants.COMPILER_NAMES.server : _constants.COMPILER_NAMES.client;\n  config.target = !ctx.targetWeb ? \"node16.14\" // Same version defined in packages/next/package.json#engines\n  : ctx.isEdgeRuntime ? [\"web\", \"es6\"] : [\"web\", \"es5\"];\n  // https://webpack.js.org/configuration/devtool/#development\n  if (ctx.isDevelopment) {\n    if (process.env.__NEXT_TEST_MODE && !process.env.__NEXT_TEST_WITH_DEVTOOL) {\n      config.devtool = false;\n    } else {\n      // `eval-source-map` provides full-fidelity source maps for the\n      // original source, including columns and original variable names.\n      // This is desirable so the in-browser debugger can correctly pause\n      // and show scoped variables with their original names.\n      config.devtool = \"eval-source-map\";\n    }\n  } else {\n    if (ctx.isEdgeRuntime || ctx.isServer && ctx.serverSourceMaps ||\n    // Enable browser sourcemaps:\n    ctx.productionBrowserSourceMaps && ctx.isClient) {\n      config.devtool = \"source-map\";\n    } else {\n      config.devtool = false;\n    }\n  }\n  if (!config.module) {\n    config.module = {\n      rules: []\n    };\n  }\n  // TODO: add codemod for \"Should not import the named export\" with JSON files\n  // config.module.strictExportPresence = !isWebpack5\n  return config;\n});","map":{"version":3,"names":["base","_lodashcurry","default","ctx","config","mode","isDevelopment","name","isServer","isEdgeRuntime","_constants","COMPILER_NAMES","edgeServer","server","client","target","targetWeb","process","env","__NEXT_TEST_MODE","__NEXT_TEST_WITH_DEVTOOL","devtool","serverSourceMaps","productionBrowserSourceMaps","isClient","module","rules"],"sources":["../../../../../src/build/webpack/config/blocks/base.ts"],"sourcesContent":[null],"mappings":";;;;;+BAKa;;;WAAAA,IAAA;;;mEALK;2BAEa;;;;;;AAGxB,MAAMA,IAAA,GAAO,IAAAC,YAAA,CAAAC,OAAK,EAAC,SAASF,KACjCG,GAAyB,EACzBC,MAA6B;EAE7BA,MAAA,CAAOC,IAAI,GAAGF,GAAA,CAAIG,aAAa,GAAG,gBAAgB;EAClDF,MAAA,CAAOG,IAAI,GAAGJ,GAAA,CAAIK,QAAQ,GACtBL,GAAA,CAAIM,aAAa,GACfC,UAAA,CAAAC,cAAc,CAACC,UAAU,GACzBF,UAAA,CAAAC,cAAc,CAACE,MAAM,GACvBH,UAAA,CAAAC,cAAc,CAACG,MAAM;EAEzBV,MAAA,CAAOW,MAAM,GAAG,CAACZ,GAAA,CAAIa,SAAS,GAC1B,YAAY;EAAA,EACZb,GAAA,CAAIM,aAAa,GACjB,CAAC,OAAO,MAAM,GACd,CAAC,OAAO,MAAM;EAElB;EACA,IAAIN,GAAA,CAAIG,aAAa,EAAE;IACrB,IAAIW,OAAA,CAAQC,GAAG,CAACC,gBAAgB,IAAI,CAACF,OAAA,CAAQC,GAAG,CAACE,wBAAwB,EAAE;MACzEhB,MAAA,CAAOiB,OAAO,GAAG;IACnB,OAAO;MACL;MACA;MACA;MACA;MACAjB,MAAA,CAAOiB,OAAO,GAAG;IACnB;EACF,OAAO;IACL,IACElB,GAAA,CAAIM,aAAa,IAChBN,GAAA,CAAIK,QAAQ,IAAIL,GAAA,CAAImB,gBAAgB;IACrC;IACCnB,GAAA,CAAIoB,2BAA2B,IAAIpB,GAAA,CAAIqB,QAAQ,EAChD;MACApB,MAAA,CAAOiB,OAAO,GAAG;IACnB,OAAO;MACLjB,MAAA,CAAOiB,OAAO,GAAG;IACnB;EACF;EAEA,IAAI,CAACjB,MAAA,CAAOqB,MAAM,EAAE;IAClBrB,MAAA,CAAOqB,MAAM,GAAG;MAAEC,KAAA,EAAO;IAAG;EAC9B;EAEA;EACA;EAEA,OAAOtB,MAAA;AACT"},"metadata":{},"sourceType":"script","externalDependencies":[]}