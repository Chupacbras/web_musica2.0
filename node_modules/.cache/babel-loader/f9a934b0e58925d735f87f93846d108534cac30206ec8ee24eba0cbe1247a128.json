{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  srcEmptySsgManifest: null,\n  getEntrypointFiles: null,\n  default: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  srcEmptySsgManifest: function () {\n    return srcEmptySsgManifest;\n  },\n  getEntrypointFiles: function () {\n    return getEntrypointFiles;\n  },\n  // This plugin creates a build-manifest.json for all assets that are being output\n  // It has a mapping of \"entry\" filename to real filename. Because the real filename can be hashed in production\n  default: function () {\n    return BuildManifestPlugin;\n  }\n});\nconst _devalue = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/devalue\"));\nconst _webpack = require(\"next/dist/compiled/webpack/webpack\");\nconst _constants = require(\"../../../shared/lib/constants\");\nconst _getroutefromentrypoint = /*#__PURE__*/_interop_require_default(require(\"../../../server/get-route-from-entrypoint\"));\nconst _nextdropclientpageplugin = require(\"./next-drop-client-page-plugin\");\nconst _utils = require(\"../../../shared/lib/router/utils\");\nconst _profilingplugin = require(\"./profiling-plugin\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst srcEmptySsgManifest = `self.__SSG_MANIFEST=new Set;self.__SSG_MANIFEST_CB&&self.__SSG_MANIFEST_CB()`;\n// This function takes the asset map generated in BuildManifestPlugin and creates a\n// reduced version to send to the client.\nfunction generateClientManifest(compiler, compilation, assetMap, rewrites) {\n  const compilationSpan = _profilingplugin.spans.get(compilation) || _profilingplugin.spans.get(compiler);\n  const genClientManifestSpan = compilationSpan == null ? void 0 : compilationSpan.traceChild(\"NextJsBuildManifest-generateClientManifest\");\n  const normalizeRewrite = item => {\n    return {\n      has: item.has,\n      source: item.source,\n      destination: item.destination\n    };\n  };\n  return genClientManifestSpan == null ? void 0 : genClientManifestSpan.traceFn(() => {\n    var _rewrites_afterFiles, _rewrites_beforeFiles, _rewrites_fallback;\n    const clientManifest = {\n      __rewrites: {\n        afterFiles: (_rewrites_afterFiles = rewrites.afterFiles) == null ? void 0 : _rewrites_afterFiles.map(item => normalizeRewrite(item)),\n        beforeFiles: (_rewrites_beforeFiles = rewrites.beforeFiles) == null ? void 0 : _rewrites_beforeFiles.map(item => normalizeRewrite(item)),\n        fallback: (_rewrites_fallback = rewrites.fallback) == null ? void 0 : _rewrites_fallback.map(item => normalizeRewrite(item))\n      }\n    };\n    const appDependencies = new Set(assetMap.pages[\"/_app\"]);\n    const sortedPageKeys = (0, _utils.getSortedRoutes)(Object.keys(assetMap.pages));\n    sortedPageKeys.forEach(page => {\n      const dependencies = assetMap.pages[page];\n      if (page === \"/_app\") return;\n      // Filter out dependencies in the _app entry, because those will have already\n      // been loaded by the client prior to a navigation event\n      const filteredDeps = dependencies.filter(dep => !appDependencies.has(dep));\n      // The manifest can omit the page if it has no requirements\n      if (filteredDeps.length) {\n        clientManifest[page] = filteredDeps;\n      }\n    });\n    // provide the sorted pages as an array so we don't rely on the object's keys\n    // being in order and we don't slow down look-up time for page assets\n    clientManifest.sortedPages = sortedPageKeys;\n    return (0, _devalue.default)(clientManifest);\n  });\n}\nfunction getEntrypointFiles(entrypoint) {\n  return (entrypoint == null ? void 0 : entrypoint.getFiles().filter(file => {\n    // We don't want to include `.hot-update.js` files into the initial page\n    return /(?<!\\.hot-update)\\.(js|css)($|\\?)/.test(file);\n  }).map(file => file.replace(/\\\\/g, \"/\"))) ?? [];\n}\nconst processRoute = r => {\n  const rewrite = {\n    ...r\n  };\n  // omit external rewrite destinations since these aren't\n  // handled client-side\n  if (!rewrite.destination.startsWith(\"/\")) {\n    delete rewrite.destination;\n  }\n  return rewrite;\n};\nclass BuildManifestPlugin {\n  constructor(options) {\n    this.buildId = options.buildId;\n    this.isDevFallback = !!options.isDevFallback;\n    this.rewrites = {\n      beforeFiles: [],\n      afterFiles: [],\n      fallback: []\n    };\n    this.appDirEnabled = options.appDirEnabled;\n    this.rewrites.beforeFiles = options.rewrites.beforeFiles.map(processRoute);\n    this.rewrites.afterFiles = options.rewrites.afterFiles.map(processRoute);\n    this.rewrites.fallback = options.rewrites.fallback.map(processRoute);\n    this.exportRuntime = !!options.exportRuntime;\n  }\n  createAssets(compiler, compilation, assets) {\n    const compilationSpan = _profilingplugin.spans.get(compilation) || _profilingplugin.spans.get(compiler);\n    const createAssetsSpan = compilationSpan == null ? void 0 : compilationSpan.traceChild(\"NextJsBuildManifest-createassets\");\n    return createAssetsSpan == null ? void 0 : createAssetsSpan.traceFn(() => {\n      const entrypoints = compilation.entrypoints;\n      const assetMap = {\n        polyfillFiles: [],\n        devFiles: [],\n        ampDevFiles: [],\n        lowPriorityFiles: [],\n        rootMainFiles: [],\n        pages: {\n          \"/_app\": []\n        },\n        ampFirstPages: []\n      };\n      const ampFirstEntryNames = _nextdropclientpageplugin.ampFirstEntryNamesMap.get(compilation);\n      if (ampFirstEntryNames) {\n        for (const entryName of ampFirstEntryNames) {\n          const pagePath = (0, _getroutefromentrypoint.default)(entryName);\n          if (!pagePath) {\n            continue;\n          }\n          assetMap.ampFirstPages.push(pagePath);\n        }\n      }\n      const mainFiles = new Set(getEntrypointFiles(entrypoints.get(_constants.CLIENT_STATIC_FILES_RUNTIME_MAIN)));\n      if (this.appDirEnabled) {\n        assetMap.rootMainFiles = [...new Set(getEntrypointFiles(entrypoints.get(_constants.CLIENT_STATIC_FILES_RUNTIME_MAIN_APP)))];\n      }\n      const compilationAssets = compilation.getAssets();\n      assetMap.polyfillFiles = compilationAssets.filter(p => {\n        // Ensure only .js files are passed through\n        if (!p.name.endsWith(\".js\")) {\n          return false;\n        }\n        return p.info && _constants.CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL in p.info;\n      }).map(v => v.name);\n      assetMap.devFiles = getEntrypointFiles(entrypoints.get(_constants.CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH)).filter(file => !mainFiles.has(file));\n      assetMap.ampDevFiles = getEntrypointFiles(entrypoints.get(_constants.CLIENT_STATIC_FILES_RUNTIME_AMP));\n      for (const entrypoint of compilation.entrypoints.values()) {\n        if (_constants.SYSTEM_ENTRYPOINTS.has(entrypoint.name)) continue;\n        const pagePath = (0, _getroutefromentrypoint.default)(entrypoint.name);\n        if (!pagePath) {\n          continue;\n        }\n        const filesForPage = getEntrypointFiles(entrypoint);\n        assetMap.pages[pagePath] = [...new Set([...mainFiles, ...filesForPage])];\n      }\n      if (!this.isDevFallback) {\n        // Add the runtime build manifest file (generated later in this file)\n        // as a dependency for the app. If the flag is false, the file won't be\n        // downloaded by the client.\n        assetMap.lowPriorityFiles.push(`${_constants.CLIENT_STATIC_FILES_PATH}/${this.buildId}/_buildManifest.js`);\n        const ssgManifestPath = `${_constants.CLIENT_STATIC_FILES_PATH}/${this.buildId}/_ssgManifest.js`;\n        assetMap.lowPriorityFiles.push(ssgManifestPath);\n        assets[ssgManifestPath] = new _webpack.sources.RawSource(srcEmptySsgManifest);\n      }\n      assetMap.pages = Object.keys(assetMap.pages).sort() // eslint-disable-next-line\n      .reduce((a, c) => (a[c] = assetMap.pages[c], a), {});\n      let buildManifestName = _constants.BUILD_MANIFEST;\n      if (this.isDevFallback) {\n        buildManifestName = `fallback-${_constants.BUILD_MANIFEST}`;\n      }\n      assets[buildManifestName] = new _webpack.sources.RawSource(JSON.stringify(assetMap, null, 2));\n      if (this.exportRuntime) {\n        assets[`server/${_constants.MIDDLEWARE_BUILD_MANIFEST}.js`] = new _webpack.sources.RawSource(`self.__BUILD_MANIFEST=${JSON.stringify(assetMap)}`);\n      }\n      if (!this.isDevFallback) {\n        const clientManifestPath = `${_constants.CLIENT_STATIC_FILES_PATH}/${this.buildId}/_buildManifest.js`;\n        assets[clientManifestPath] = new _webpack.sources.RawSource(`self.__BUILD_MANIFEST = ${generateClientManifest(compiler, compilation, assetMap, this.rewrites)};self.__BUILD_MANIFEST_CB && self.__BUILD_MANIFEST_CB()`);\n      }\n      return assets;\n    });\n  }\n  apply(compiler) {\n    compiler.hooks.make.tap(\"NextJsBuildManifest\", compilation => {\n      compilation.hooks.processAssets.tap({\n        name: \"NextJsBuildManifest\",\n        stage: _webpack.webpack.Compilation.PROCESS_ASSETS_STAGE_ADDITIONS\n      }, assets => {\n        this.createAssets(compiler, compilation, assets);\n      });\n    });\n    return;\n  }\n}","map":{"version":3,"names":["srcEmptySsgManifest","getEntrypointFiles","default","BuildManifestPlugin","generateClientManifest","compiler","compilation","assetMap","rewrites","compilationSpan","_profilingplugin","spans","get","genClientManifestSpan","traceChild","normalizeRewrite","item","has","source","destination","traceFn","_rewrites_afterFiles","_rewrites_beforeFiles","_rewrites_fallback","clientManifest","__rewrites","afterFiles","map","beforeFiles","fallback","appDependencies","Set","pages","sortedPageKeys","_utils","getSortedRoutes","Object","keys","forEach","page","dependencies","filteredDeps","filter","dep","length","sortedPages","_devalue","entrypoint","getFiles","file","test","replace","processRoute","r","rewrite","startsWith","constructor","options","buildId","isDevFallback","appDirEnabled","exportRuntime","createAssets","assets","createAssetsSpan","entrypoints","polyfillFiles","devFiles","ampDevFiles","lowPriorityFiles","rootMainFiles","ampFirstPages","ampFirstEntryNames","_nextdropclientpageplugin","ampFirstEntryNamesMap","entryName","pagePath","_getroutefromentrypoint","push","mainFiles","_constants","CLIENT_STATIC_FILES_RUNTIME_MAIN","CLIENT_STATIC_FILES_RUNTIME_MAIN_APP","compilationAssets","getAssets","p","name","endsWith","info","CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL","v","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","values","SYSTEM_ENTRYPOINTS","filesForPage","CLIENT_STATIC_FILES_PATH","ssgManifestPath","_webpack","sources","RawSource","sort","reduce","a","c","buildManifestName","BUILD_MANIFEST","JSON","stringify","MIDDLEWARE_BUILD_MANIFEST","clientManifestPath","apply","hooks","make","tap","processAssets","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS"],"sources":["../../../../src/build/webpack/plugins/build-manifest-plugin.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EA2BaA,mBAAmB,WAAAA,CAAA;WAAnBA,mBAAA;;EA+DGC,kBAAkB,WAAAA,CAAA;WAAlBA,kBAAA;;EAuBhB;EACA;EACAC,OAiLC,WAAAA,CAAA;WAjLoBC,mBAAA;;;+DAlHD;yBACa;2BAW1B;8EAE4B;0CACG;uBACN;iCACV;;;;;;AASf,MAAMH,mBAAA,GAAuB,8EAA6E;AAEjH;AACA;AACA,SAASI,uBACPC,QAAa,EACbC,WAAgB,EAChBC,QAAuB,EACvBC,QAAkC;EAElC,MAAMC,eAAA,GAAkBC,gBAAA,CAAAC,KAAK,CAACC,GAAG,CAACN,WAAA,KAAgBI,gBAAA,CAAAC,KAAK,CAACC,GAAG,CAACP,QAAA;EAC5D,MAAMQ,qBAAA,GAAwBJ,eAAA,oBAAAA,eAAA,CAAiBK,UAAU,CACvD;EAGF,MAAMC,gBAAA,GAAoBC,IAAA;IAKxB,OAAO;MACLC,GAAA,EAAKD,IAAA,CAAKC,GAAG;MACbC,MAAA,EAAQF,IAAA,CAAKE,MAAM;MACnBC,WAAA,EAAaH,IAAA,CAAKG;IACpB;EACF;EAEA,OAAON,qBAAA,oBAAAA,qBAAA,CAAuBO,OAAO,CAAC;QAGpBC,oBAAA,EACCC,qBAAA,EAGHC,kBAAA;IANd,MAAMC,cAAA,GAAsC;MAC1CC,UAAA,EAAY;QACVC,UAAU,GAAEL,oBAAA,GAAAb,QAAA,CAASkB,UAAU,qBAAnBL,oBAAA,CAAqBM,GAAG,CAAEX,IAAA,IAASD,gBAAA,CAAiBC,IAAA;QAChEY,WAAW,GAAEN,qBAAA,GAAAd,QAAA,CAASoB,WAAW,qBAApBN,qBAAA,CAAsBK,GAAG,CAAEX,IAAA,IACtCD,gBAAA,CAAiBC,IAAA;QAEnBa,QAAQ,GAAEN,kBAAA,GAAAf,QAAA,CAASqB,QAAQ,qBAAjBN,kBAAA,CAAmBI,GAAG,CAAEX,IAAA,IAASD,gBAAA,CAAiBC,IAAA;MAC9D;IACF;IACA,MAAMc,eAAA,GAAkB,IAAIC,GAAA,CAAIxB,QAAA,CAASyB,KAAK,CAAC,QAAQ;IACvD,MAAMC,cAAA,GAAiB,IAAAC,MAAA,CAAAC,eAAe,EAACC,MAAA,CAAOC,IAAI,CAAC9B,QAAA,CAASyB,KAAK;IAEjEC,cAAA,CAAeK,OAAO,CAAEC,IAAA;MACtB,MAAMC,YAAA,GAAejC,QAAA,CAASyB,KAAK,CAACO,IAAA,CAAK;MAEzC,IAAIA,IAAA,KAAS,SAAS;MACtB;MACA;MACA,MAAME,YAAA,GAAeD,YAAA,CAAaE,MAAM,CACrCC,GAAA,IAAQ,CAACb,eAAA,CAAgBb,GAAG,CAAC0B,GAAA;MAGhC;MACA,IAAIF,YAAA,CAAaG,MAAM,EAAE;QACvBpB,cAAc,CAACe,IAAA,CAAK,GAAGE,YAAA;MACzB;IACF;IACA;IACA;IACAjB,cAAA,CAAeqB,WAAW,GAAGZ,cAAA;IAE7B,OAAO,IAAAa,QAAA,CAAA5C,OAAO,EAACsB,cAAA;EACjB;AACF;AAEO,SAASvB,mBAAmB8C,UAAe;EAChD,OACE,CAAAA,UAAA,oBAAAA,UAAA,CACIC,QAAQ,GACTN,MAAM,CAAEO,IAAA;IACP;IACA,OAAO,oCAAoCC,IAAI,CAACD,IAAA;EAClD,GACCtB,GAAG,CAAEsB,IAAA,IAAiBA,IAAA,CAAKE,OAAO,CAAC,OAAO,UAAS,EAAE;AAE5D;AAEA,MAAMC,YAAA,GAAgBC,CAAA;EACpB,MAAMC,OAAA,GAAU;IAAE,GAAGD;EAAE;EAEvB;EACA;EACA,IAAI,CAACC,OAAA,CAAQnC,WAAW,CAACoC,UAAU,CAAC,MAAM;IACxC,OAAOD,OAAC,CAAgBnC,WAAW;EACrC;EACA,OAAOmC,OAAA;AACT;AAIe,MAAMnD,mBAAA;EAOnBqD,YAAYC,OAMX,EAAE;IACD,IAAI,CAACC,OAAO,GAAGD,OAAA,CAAQC,OAAO;IAC9B,IAAI,CAACC,aAAa,GAAG,CAAC,CAACF,OAAA,CAAQE,aAAa;IAC5C,IAAI,CAACnD,QAAQ,GAAG;MACdoB,WAAA,EAAa,EAAE;MACfF,UAAA,EAAY,EAAE;MACdG,QAAA,EAAU;IACZ;IACA,IAAI,CAAC+B,aAAa,GAAGH,OAAA,CAAQG,aAAa;IAC1C,IAAI,CAACpD,QAAQ,CAACoB,WAAW,GAAG6B,OAAA,CAAQjD,QAAQ,CAACoB,WAAW,CAACD,GAAG,CAACyB,YAAA;IAC7D,IAAI,CAAC5C,QAAQ,CAACkB,UAAU,GAAG+B,OAAA,CAAQjD,QAAQ,CAACkB,UAAU,CAACC,GAAG,CAACyB,YAAA;IAC3D,IAAI,CAAC5C,QAAQ,CAACqB,QAAQ,GAAG4B,OAAA,CAAQjD,QAAQ,CAACqB,QAAQ,CAACF,GAAG,CAACyB,YAAA;IACvD,IAAI,CAACS,aAAa,GAAG,CAAC,CAACJ,OAAA,CAAQI,aAAa;EAC9C;EAEAC,aAAazD,QAAa,EAAEC,WAAgB,EAAEyD,MAAW,EAAE;IACzD,MAAMtD,eAAA,GAAkBC,gBAAA,CAAAC,KAAK,CAACC,GAAG,CAACN,WAAA,KAAgBI,gBAAA,CAAAC,KAAK,CAACC,GAAG,CAACP,QAAA;IAC5D,MAAM2D,gBAAA,GAAmBvD,eAAA,oBAAAA,eAAA,CAAiBK,UAAU,CAClD;IAEF,OAAOkD,gBAAA,oBAAAA,gBAAA,CAAkB5C,OAAO,CAAC;MAC/B,MAAM6C,WAAA,GAAgC3D,WAAA,CAAY2D,WAAW;MAC7D,MAAM1D,QAAA,GAAuC;QAC3C2D,aAAA,EAAe,EAAE;QACjBC,QAAA,EAAU,EAAE;QACZC,WAAA,EAAa,EAAE;QACfC,gBAAA,EAAkB,EAAE;QACpBC,aAAA,EAAe,EAAE;QACjBtC,KAAA,EAAO;UAAE,SAAS;QAAG;QACrBuC,aAAA,EAAe;MACjB;MAEA,MAAMC,kBAAA,GAAqBC,yBAAA,CAAAC,qBAAqB,CAAC9D,GAAG,CAACN,WAAA;MACrD,IAAIkE,kBAAA,EAAoB;QACtB,KAAK,MAAMG,SAAA,IAAaH,kBAAA,EAAoB;UAC1C,MAAMI,QAAA,GAAW,IAAAC,uBAAA,CAAA3E,OAAsB,EAACyE,SAAA;UACxC,IAAI,CAACC,QAAA,EAAU;YACb;UACF;UAEArE,QAAA,CAASgE,aAAa,CAACO,IAAI,CAACF,QAAA;QAC9B;MACF;MAEA,MAAMG,SAAA,GAAY,IAAIhD,GAAA,CACpB9B,kBAAA,CAAmBgE,WAAA,CAAYrD,GAAG,CAACoE,UAAA,CAAAC,gCAAgC;MAGrE,IAAI,IAAI,CAACrB,aAAa,EAAE;QACtBrD,QAAA,CAAS+D,aAAa,GAAG,C,GACpB,IAAIvC,GAAA,CACL9B,kBAAA,CACEgE,WAAA,CAAYrD,GAAG,CAACoE,UAAA,CAAAE,oCAAoC,IAGzD;MACH;MAEA,MAAMC,iBAAA,GAIA7E,WAAA,CAAY8E,SAAS;MAE3B7E,QAAA,CAAS2D,aAAa,GAAGiB,iBAAA,CACtBzC,MAAM,CAAE2C,CAAA;QACP;QACA,IAAI,CAACA,CAAA,CAAEC,IAAI,CAACC,QAAQ,CAAC,QAAQ;UAC3B,OAAO;QACT;QAEA,OACEF,CAAA,CAAEG,IAAI,IAAIR,UAAA,CAAAS,4CAA4C,IAAIJ,CAAA,CAAEG,IAAI;MAEpE,GACC7D,GAAG,CAAE+D,CAAA,IAAMA,CAAA,CAAEJ,IAAI;MAEpB/E,QAAA,CAAS4D,QAAQ,GAAGlE,kBAAA,CAClBgE,WAAA,CAAYrD,GAAG,CAACoE,UAAA,CAAAW,yCAAyC,GACzDjD,MAAM,CAAEO,IAAA,IAAS,CAAC8B,SAAA,CAAU9D,GAAG,CAACgC,IAAA;MAElC1C,QAAA,CAAS6D,WAAW,GAAGnE,kBAAA,CACrBgE,WAAA,CAAYrD,GAAG,CAACoE,UAAA,CAAAY,+BAA+B;MAGjD,KAAK,MAAM7C,UAAA,IAAczC,WAAA,CAAY2D,WAAW,CAAC4B,MAAM,IAAI;QACzD,IAAIb,UAAA,CAAAc,kBAAkB,CAAC7E,GAAG,CAAC8B,UAAA,CAAWuC,IAAI,GAAG;QAC7C,MAAMV,QAAA,GAAW,IAAAC,uBAAA,CAAA3E,OAAsB,EAAC6C,UAAA,CAAWuC,IAAI;QAEvD,IAAI,CAACV,QAAA,EAAU;UACb;QACF;QAEA,MAAMmB,YAAA,GAAe9F,kBAAA,CAAmB8C,UAAA;QAExCxC,QAAA,CAASyB,KAAK,CAAC4C,QAAA,CAAS,GAAG,C,GAAI,IAAI7C,GAAA,CAAI,C,GAAIgD,SAAA,E,GAAcgB,YAAA,CAAa,EAAE;MAC1E;MAEA,IAAI,CAAC,IAAI,CAACpC,aAAa,EAAE;QACvB;QACA;QACA;QACApD,QAAA,CAAS8D,gBAAgB,CAACS,IAAI,CAC3B,GAAEE,UAAA,CAAAgB,wBAAyB,IAAG,IAAI,CAACtC,OAAQ,oBAAmB;QAEjE,MAAMuC,eAAA,GAAmB,GAAEjB,UAAA,CAAAgB,wBAAyB,IAAG,IAAI,CAACtC,OAAQ,kBAAiB;QAErFnD,QAAA,CAAS8D,gBAAgB,CAACS,IAAI,CAACmB,eAAA;QAC/BlC,MAAM,CAACkC,eAAA,CAAgB,GAAG,IAAIC,QAAA,CAAAC,OAAO,CAACC,SAAS,CAACpG,mBAAA;MAClD;MAEAO,QAAA,CAASyB,KAAK,GAAGI,MAAA,CAAOC,IAAI,CAAC9B,QAAA,CAASyB,KAAK,EACxCqE,IAAI,EACL;MAAA,CACCC,MAAM,CAAC,CAACC,CAAA,EAAGC,CAAA,MAAOD,CAAE,CAACC,CAAA,CAAE,GAAGjG,QAAA,CAASyB,KAAK,CAACwE,CAAA,CAAE,EAAGD,CAAA,GAAI,CAAC;MAEtD,IAAIE,iBAAA,GAAoBzB,UAAA,CAAA0B,cAAc;MAEtC,IAAI,IAAI,CAAC/C,aAAa,EAAE;QACtB8C,iBAAA,GAAqB,YAAWzB,UAAA,CAAA0B,cAAe,EAAC;MAClD;MAEA3C,MAAM,CAAC0C,iBAAA,CAAkB,GAAG,IAAIP,QAAA,CAAAC,OAAO,CAACC,SAAS,CAC/CO,IAAA,CAAKC,SAAS,CAACrG,QAAA,EAAU,MAAM;MAGjC,IAAI,IAAI,CAACsD,aAAa,EAAE;QACtBE,MAAM,CAAE,UAASiB,UAAA,CAAA6B,yBAA0B,KAAI,CAAC,GAC9C,IAAIX,QAAA,CAAAC,OAAO,CAACC,SAAS,CAClB,yBAAwBO,IAAA,CAAKC,SAAS,CAACrG,QAAA,CAAU,EAAC;MAEzD;MAEA,IAAI,CAAC,IAAI,CAACoD,aAAa,EAAE;QACvB,MAAMmD,kBAAA,GAAsB,GAAE9B,UAAA,CAAAgB,wBAAyB,IAAG,IAAI,CAACtC,OAAQ,oBAAmB;QAE1FK,MAAM,CAAC+C,kBAAA,CAAmB,GAAG,IAAIZ,QAAA,CAAAC,OAAO,CAACC,SAAS,CAC/C,2BAA0BhG,sBAAA,CACzBC,QAAA,EACAC,WAAA,EACAC,QAAA,EACA,IAAI,CAACC,QAAQ,CACb,yDAAwD;MAE9D;MAEA,OAAOuD,MAAA;IACT;EACF;EAEAgD,MAAM1G,QAA0B,EAAE;IAChCA,QAAA,CAAS2G,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,uBAAwB5G,WAAA;MAC9CA,WAAA,CAAY0G,KAAK,CAACG,aAAa,CAACD,GAAG,CACjC;QACE5B,IAAA,EAAM;QACN8B,KAAA,EAAOlB,QAAA,CAAAmB,OAAO,CAACC,WAAW,CAACC;MAC7B,GACCxD,MAAA;QACC,IAAI,CAACD,YAAY,CAACzD,QAAA,EAAUC,WAAA,EAAayD,MAAA;MAC3C;IAEJ;IACA;EACF;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}