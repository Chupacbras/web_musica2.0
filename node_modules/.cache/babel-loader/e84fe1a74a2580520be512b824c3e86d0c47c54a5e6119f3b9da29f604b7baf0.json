{"ast":null,"code":"var _jsxFileName = \"/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js\";\nimport React from 'react';\nimport { Howl } from 'howler';\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\nimport './Estilos/music-player.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MusicPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playTrack = () => {\n      const {\n        currentTrack,\n        sound\n      } = this.state;\n\n      // Detener el sonido actual si está reproduciéndose\n      if (sound) {\n        sound.stop();\n        sound.unload();\n      }\n      const currentFileName = this.props.audioFiles[currentTrack];\n\n      // Crear un nuevo sonido y reproducirlo\n      const newSound = new Howl({\n        src: [this.props.audioFiles[currentTrack]],\n        onend: () => {\n          this.playNextTrack();\n        }\n      });\n      newSound.play();\n      this.setState({\n        sound: newSound,\n        isPlaying: true,\n        currentFileName: currentFileName\n      });\n    };\n    this.togglePlay = () => {\n      const {\n        isPlaying,\n        sound\n      } = this.state;\n      if (isPlaying) {\n        sound.pause();\n      } else {\n        if (!sound) {\n          this.playTrack();\n        } else {\n          sound.play();\n        }\n      }\n      this.setState({\n        isPlaying: !isPlaying\n      });\n    };\n    this.playPreviousTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.playNextTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.onMouseDown = e => {\n      const offsetX = e.clientX - this.state.positionX;\n      const offsetY = e.clientY - this.state.positionY;\n      this.setState({\n        offsetX,\n        offsetY,\n        dragging: true\n      });\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    };\n    this.onMouseMove = e => {\n      if (this.state.dragging) {\n        const positionX = e.clientX - this.state.offsetX;\n        const positionY = e.clientY - this.state.offsetY;\n        const maxX = window.innerWidth;\n        const maxY = window.innerHeight;\n\n        // Asegúrate de que la posición no supere los límites del viewport\n        const clampedX = Math.min(maxX, Math.max(0, positionX));\n        const clampedY = Math.min(maxY, Math.max(0, positionY));\n        this.setState({\n          positionX: clampedX,\n          positionY: clampedY\n        });\n      }\n    };\n    this.onMouseUp = () => {\n      this.setState({\n        dragging: false\n      });\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    };\n    this.state = {\n      isPlaying: false,\n      currentTrack: 0,\n      sound: null,\n      positionX: 0,\n      positionY: 0,\n      dragging: false,\n      currentFileName: ''\n    };\n  }\n  componentWillUnmount() {\n    const {\n      sound\n    } = this.state;\n    if (sound) {\n      sound.unload();\n    }\n  }\n  // Resto del código del componente (métodos playTrack, playNextTrack, etc.)\n\n  render() {\n    const {\n      isPlaying,\n      positionX,\n      positionY,\n      dragging,\n      currentFileName\n    } = this.state;\n    const style = {\n      transform: `translate(${positionX}px, ${positionY}px)`,\n      cursor: dragging ? 'grabbing' : 'grab',\n      position: 'fixed',\n      top: '75%',\n      right: '20%'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"music-player\",\n      style: style,\n      onMouseDown: this.onMouseDown,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playPreviousTrack,\n          children: /*#__PURE__*/_jsxDEV(FaBackward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.togglePlay,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(FaPause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playNextTrack,\n          children: /*#__PURE__*/_jsxDEV(FaForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"song-info\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: currentFileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MusicPlayer;","map":{"version":3,"names":["React","Howl","FaPlay","FaPause","FaForward","FaBackward","jsxDEV","_jsxDEV","MusicPlayer","Component","constructor","props","playTrack","currentTrack","sound","state","stop","unload","currentFileName","audioFiles","newSound","src","onend","playNextTrack","play","setState","isPlaying","togglePlay","pause","playPreviousTrack","newTrack","length","onMouseDown","e","offsetX","clientX","positionX","offsetY","clientY","positionY","dragging","document","addEventListener","onMouseMove","onMouseUp","maxX","window","innerWidth","maxY","innerHeight","clampedX","Math","min","max","clampedY","removeEventListener","componentWillUnmount","render","style","transform","cursor","position","top","right","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js"],"sourcesContent":["import React from 'react';\r\nimport { Howl } from 'howler';\r\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\r\nimport './Estilos/music-player.css';\r\n\r\nclass MusicPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isPlaying: false,\r\n      currentTrack: 0,\r\n      sound: null,\r\n      positionX: 0,\r\n      positionY: 0,\r\n      dragging: false,\r\n      currentFileName: ''\r\n    };\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    const { sound } = this.state;\r\n    if (sound) {\r\n      sound.unload();\r\n    }\r\n  }\r\n\r\n  playTrack = () => {\r\n    const { currentTrack, sound } = this.state;\r\n\r\n    // Detener el sonido actual si está reproduciéndose\r\n    if (sound) {\r\n      sound.stop();\r\n      sound.unload();\r\n    }\r\n\r\n    const currentFileName = this.props.audioFiles[currentTrack];\r\n\r\n    // Crear un nuevo sonido y reproducirlo\r\n    const newSound = new Howl({\r\n      src: [this.props.audioFiles[currentTrack]],\r\n      onend: () => {\r\n        this.playNextTrack();\r\n      },\r\n    });\r\n\r\n    newSound.play();\r\n\r\n    this.setState({\r\n      sound: newSound,\r\n      isPlaying: true,\r\n      currentFileName: currentFileName,\r\n    });\r\n  };\r\n\r\n\r\n  togglePlay = () => {\r\n    const { isPlaying, sound } = this.state;\r\n    if (isPlaying) {\r\n      sound.pause();\r\n    } else {\r\n      if (!sound) {\r\n        this.playTrack();\r\n      } else {\r\n        sound.play();\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      isPlaying: !isPlaying,\r\n    });\r\n  };\r\n\r\n  playPreviousTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\r\n    this.setState({\r\n      currentTrack: newTrack,\r\n    }, () => {\r\n      this.playTrack();\r\n    });\r\n  };\r\n\r\n  playNextTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\r\n    this.setState({\r\n      currentTrack: newTrack,\r\n    }, () => {\r\n      this.playTrack();\r\n    });\r\n  };\r\n\r\n  onMouseDown = (e) => {\r\n    const offsetX = e.clientX - this.state.positionX;\r\n    const offsetY = e.clientY - this.state.positionY;\r\n    this.setState({ offsetX, offsetY, dragging: true });\r\n\r\n    document.addEventListener('mousemove', this.onMouseMove);\r\n    document.addEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n  onMouseMove = (e) => {\r\n    if (this.state.dragging) {\r\n      const positionX = e.clientX - this.state.offsetX;\r\n      const positionY = e.clientY - this.state.offsetY;\r\n      const maxX = window.innerWidth;\r\n      const maxY = window.innerHeight;\r\n\r\n      // Asegúrate de que la posición no supere los límites del viewport\r\n      const clampedX = Math.min(maxX, Math.max(0, positionX));\r\n      const clampedY = Math.min(maxY, Math.max(0, positionY));\r\n\r\n      this.setState({ positionX: clampedX, positionY: clampedY });\r\n    }\r\n  };\r\n\r\n  onMouseUp = () => {\r\n    this.setState({ dragging: false });\r\n\r\n    document.removeEventListener('mousemove', this.onMouseMove);\r\n    document.removeEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n\r\n  // Resto del código del componente (métodos playTrack, playNextTrack, etc.)\r\n\r\n  render() {\r\n    const { isPlaying, positionX, positionY, dragging, currentFileName } = this.state;\r\n    const style = {\r\n      transform: `translate(${positionX}px, ${positionY}px)`,\r\n      cursor: dragging ? 'grabbing' : 'grab',\r\n      position: 'fixed',\r\n      top: '75%',\r\n      right: '20%',\r\n    };\r\n\r\n    return (\r\n      <div className=\"music-player\" style={style} onMouseDown={this.onMouseDown}>\r\n        <div className=\"controls\">\r\n          <button onClick={this.playPreviousTrack}>\r\n            <FaBackward />\r\n          </button>\r\n          <button onClick={this.togglePlay}>\r\n            {isPlaying ? <FaPause /> : <FaPlay />}\r\n          </button>\r\n          <button onClick={this.playNextTrack}>\r\n            <FaForward />\r\n          </button>\r\n        </div>\r\n        <div className=\"song-info\">\r\n          <span>{currentFileName}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MusicPlayer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}