{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  getDefineEnv: null,\n  getDefineEnvPlugin: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  getDefineEnv: function () {\n    return getDefineEnv;\n  },\n  getDefineEnvPlugin: function () {\n    return getDefineEnvPlugin;\n  }\n});\nconst _webpack = require(\"next/dist/compiled/webpack/webpack\");\nconst _needsexperimentalreact = require(\"../../../lib/needs-experimental-react\");\nconst _webpackconfig = require(\"../../webpack-config\");\nfunction getDefineEnv({\n  allowedRevalidateHeaderKeys,\n  clientRouterFilters,\n  config,\n  dev,\n  distDir,\n  fetchCacheKeyPrefix,\n  hasRewrites,\n  isClient,\n  isEdgeServer,\n  isNodeOrEdgeCompilation,\n  isNodeServer,\n  middlewareMatchers,\n  previewModeId\n}) {\n  var _config_images, _config_images1, _config_i18n;\n  return {\n    // internal field to identify the plugin config\n    __NEXT_DEFINE_ENV: \"true\",\n    ...Object.keys(process.env).reduce((prev, key) => {\n      if (key.startsWith(\"NEXT_PUBLIC_\")) {\n        prev[`process.env.${key}`] = JSON.stringify(process.env[key]);\n      }\n      return prev;\n    }, {}),\n    ...Object.keys(config.env).reduce((acc, key) => {\n      (0, _webpackconfig.errorIfEnvConflicted)(config, key);\n      return {\n        ...acc,\n        [`process.env.${key}`]: JSON.stringify(config.env[key])\n      };\n    }, {}),\n    ...(!isEdgeServer ? {} : {\n      EdgeRuntime: JSON.stringify(\n      /**\n      * Cloud providers can set this environment variable to allow users\n      * and library authors to have different implementations based on\n      * the runtime they are running with, if it's not using `edge-runtime`\n      */\n      process.env.NEXT_EDGE_RUNTIME_PROVIDER || \"edge-runtime\")\n    }),\n    \"process.turbopack\": JSON.stringify(false),\n    // TODO: enforce `NODE_ENV` on `process.env`, and add a test:\n    \"process.env.NODE_ENV\": JSON.stringify(dev ? \"development\" : \"production\"),\n    \"process.env.NEXT_RUNTIME\": JSON.stringify(isEdgeServer ? \"edge\" : isNodeServer ? \"nodejs\" : undefined),\n    \"process.env.NEXT_MINIMAL\": JSON.stringify(\"\"),\n    \"process.env.__NEXT_ACTIONS_DEPLOYMENT_ID\": JSON.stringify(config.experimental.useDeploymentIdServerActions),\n    \"process.env.NEXT_DEPLOYMENT_ID\": JSON.stringify(config.experimental.deploymentId),\n    \"process.env.__NEXT_FETCH_CACHE_KEY_PREFIX\": JSON.stringify(fetchCacheKeyPrefix),\n    \"process.env.__NEXT_PREVIEW_MODE_ID\": JSON.stringify(previewModeId),\n    \"process.env.__NEXT_ALLOWED_REVALIDATE_HEADERS\": JSON.stringify(allowedRevalidateHeaderKeys),\n    \"process.env.__NEXT_MIDDLEWARE_MATCHERS\": JSON.stringify(middlewareMatchers || []),\n    \"process.env.__NEXT_MANUAL_CLIENT_BASE_PATH\": JSON.stringify(config.experimental.manualClientBasePath),\n    \"process.env.__NEXT_CLIENT_ROUTER_FILTER_ENABLED\": JSON.stringify(config.experimental.clientRouterFilter),\n    \"process.env.__NEXT_CLIENT_ROUTER_S_FILTER\": JSON.stringify(clientRouterFilters == null ? void 0 : clientRouterFilters.staticFilter),\n    \"process.env.__NEXT_CLIENT_ROUTER_D_FILTER\": JSON.stringify(clientRouterFilters == null ? void 0 : clientRouterFilters.dynamicFilter),\n    \"process.env.__NEXT_OPTIMISTIC_CLIENT_CACHE\": JSON.stringify(config.experimental.optimisticClientCache),\n    \"process.env.__NEXT_MIDDLEWARE_PREFETCH\": JSON.stringify(config.experimental.middlewarePrefetch),\n    \"process.env.__NEXT_CROSS_ORIGIN\": JSON.stringify(config.crossOrigin),\n    \"process.browser\": JSON.stringify(isClient),\n    \"process.env.__NEXT_TEST_MODE\": JSON.stringify(process.env.__NEXT_TEST_MODE),\n    // This is used in client/dev-error-overlay/hot-dev-client.js to replace the dist directory\n    ...(dev && (isClient || isEdgeServer) ? {\n      \"process.env.__NEXT_DIST_DIR\": JSON.stringify(distDir)\n    } : {}),\n    \"process.env.__NEXT_TRAILING_SLASH\": JSON.stringify(config.trailingSlash),\n    \"process.env.__NEXT_BUILD_INDICATOR\": JSON.stringify(config.devIndicators.buildActivity),\n    \"process.env.__NEXT_BUILD_INDICATOR_POSITION\": JSON.stringify(config.devIndicators.buildActivityPosition),\n    \"process.env.__NEXT_STRICT_MODE\": JSON.stringify(config.reactStrictMode === null ? false : config.reactStrictMode),\n    \"process.env.__NEXT_STRICT_MODE_APP\": JSON.stringify(\n    // When next.config.js does not have reactStrictMode it's enabled by default.\n    config.reactStrictMode === null ? true : config.reactStrictMode),\n    \"process.env.__NEXT_OPTIMIZE_FONTS\": JSON.stringify(!dev && config.optimizeFonts),\n    \"process.env.__NEXT_OPTIMIZE_CSS\": JSON.stringify(config.experimental.optimizeCss && !dev),\n    \"process.env.__NEXT_SCRIPT_WORKERS\": JSON.stringify(config.experimental.nextScriptWorkers && !dev),\n    \"process.env.__NEXT_SCROLL_RESTORATION\": JSON.stringify(config.experimental.scrollRestoration),\n    \"process.env.__NEXT_IMAGE_OPTS\": JSON.stringify({\n      deviceSizes: config.images.deviceSizes,\n      imageSizes: config.images.imageSizes,\n      path: config.images.path,\n      loader: config.images.loader,\n      dangerouslyAllowSVG: config.images.dangerouslyAllowSVG,\n      unoptimized: config == null ? void 0 : (_config_images = config.images) == null ? void 0 : _config_images.unoptimized,\n      ...(dev ? {\n        // pass domains in development to allow validating on the client\n        domains: config.images.domains,\n        remotePatterns: (_config_images1 = config.images) == null ? void 0 : _config_images1.remotePatterns,\n        output: config.output\n      } : {})\n    }),\n    \"process.env.__NEXT_ROUTER_BASEPATH\": JSON.stringify(config.basePath),\n    \"process.env.__NEXT_STRICT_NEXT_HEAD\": JSON.stringify(config.experimental.strictNextHead),\n    \"process.env.__NEXT_HAS_REWRITES\": JSON.stringify(hasRewrites),\n    \"process.env.__NEXT_CONFIG_OUTPUT\": JSON.stringify(config.output),\n    \"process.env.__NEXT_I18N_SUPPORT\": JSON.stringify(!!config.i18n),\n    \"process.env.__NEXT_I18N_DOMAINS\": JSON.stringify((_config_i18n = config.i18n) == null ? void 0 : _config_i18n.domains),\n    \"process.env.__NEXT_ANALYTICS_ID\": JSON.stringify(config.analyticsId),\n    \"process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE\": JSON.stringify(config.skipMiddlewareUrlNormalize),\n    \"process.env.__NEXT_EXTERNAL_MIDDLEWARE_REWRITE_RESOLVE\": JSON.stringify(config.experimental.externalMiddlewareRewritesResolve),\n    \"process.env.__NEXT_MANUAL_TRAILING_SLASH\": JSON.stringify(config.skipTrailingSlashRedirect),\n    \"process.env.__NEXT_HAS_WEB_VITALS_ATTRIBUTION\": JSON.stringify(config.experimental.webVitalsAttribution && config.experimental.webVitalsAttribution.length > 0),\n    \"process.env.__NEXT_WEB_VITALS_ATTRIBUTION\": JSON.stringify(config.experimental.webVitalsAttribution),\n    \"process.env.__NEXT_ASSET_PREFIX\": JSON.stringify(config.assetPrefix),\n    ...(isNodeOrEdgeCompilation ? {\n      // Fix bad-actors in the npm ecosystem (e.g. `node-formidable`)\n      // This is typically found in unmaintained modules from the\n      // pre-webpack era (common in server-side code)\n      \"global.GENTLY\": JSON.stringify(false)\n    } : undefined),\n    \"process.env.TURBOPACK\": JSON.stringify(false),\n    ...(isNodeServer ? {\n      \"process.env.__NEXT_EXPERIMENTAL_REACT\": JSON.stringify((0, _needsexperimentalreact.needsExperimentalReact)(config))\n    } : undefined)\n  };\n}\nfunction getDefineEnvPlugin(options) {\n  return new _webpack.webpack.DefinePlugin(getDefineEnv(options));\n}","map":{"version":3,"names":["getDefineEnv","getDefineEnvPlugin","allowedRevalidateHeaderKeys","clientRouterFilters","config","dev","distDir","fetchCacheKeyPrefix","hasRewrites","isClient","isEdgeServer","isNodeOrEdgeCompilation","isNodeServer","middlewareMatchers","previewModeId","_config_images","_config_images1","_config_i18n","__NEXT_DEFINE_ENV","Object","keys","process","env","reduce","prev","key","startsWith","JSON","stringify","acc","_webpackconfig","errorIfEnvConflicted","EdgeRuntime","NEXT_EDGE_RUNTIME_PROVIDER","undefined","experimental","useDeploymentIdServerActions","deploymentId","manualClientBasePath","clientRouterFilter","staticFilter","dynamicFilter","optimisticClientCache","middlewarePrefetch","crossOrigin","__NEXT_TEST_MODE","trailingSlash","devIndicators","buildActivity","buildActivityPosition","reactStrictMode","optimizeFonts","optimizeCss","nextScriptWorkers","scrollRestoration","deviceSizes","images","imageSizes","path","loader","dangerouslyAllowSVG","unoptimized","domains","remotePatterns","output","basePath","strictNextHead","i18n","analyticsId","skipMiddlewareUrlNormalize","externalMiddlewareRewritesResolve","skipTrailingSlashRedirect","webVitalsAttribution","length","assetPrefix","_needsexperimentalreact","needsExperimentalReact","options","_webpack","webpack","DefinePlugin"],"sources":["../../../../src/build/webpack/plugins/define-env-plugin.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}