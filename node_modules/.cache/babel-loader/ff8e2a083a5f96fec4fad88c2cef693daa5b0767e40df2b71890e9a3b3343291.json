{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  headers: null,\n  cookies: null,\n  draftMode: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  headers: function () {\n    return headers;\n  },\n  cookies: function () {\n    return cookies;\n  },\n  draftMode: function () {\n    return draftMode;\n  }\n});\nconst _requestcookies = require(\"../../server/web/spec-extension/adapters/request-cookies\");\nconst _headers = require(\"../../server/web/spec-extension/adapters/headers\");\nconst _cookies = require(\"../../server/web/spec-extension/cookies\");\nconst _requestasyncstorageexternal = require(\"./request-async-storage.external\");\nconst _actionasyncstorageexternal = require(\"./action-async-storage.external\");\nconst _staticgenerationbailout = require(\"./static-generation-bailout\");\nconst _draftmode = require(\"./draft-mode\");\nfunction headers() {\n  if ((0, _staticgenerationbailout.staticGenerationBailout)(\"headers\", {\n    link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n  })) {\n    return _headers.HeadersAdapter.seal(new Headers({}));\n  }\n  const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n  if (!requestStore) {\n    throw new Error(\"Invariant: headers() expects to have requestAsyncStorage, none available.\");\n  }\n  return requestStore.headers;\n}\nfunction cookies() {\n  if ((0, _staticgenerationbailout.staticGenerationBailout)(\"cookies\", {\n    link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n  })) {\n    return _requestcookies.RequestCookiesAdapter.seal(new _cookies.RequestCookies(new Headers({})));\n  }\n  const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n  if (!requestStore) {\n    throw new Error(\"Invariant: cookies() expects to have requestAsyncStorage, none available.\");\n  }\n  const asyncActionStore = _actionasyncstorageexternal.actionAsyncStorage.getStore();\n  if (asyncActionStore && (asyncActionStore.isAction || asyncActionStore.isAppRoute)) {\n    // We can't conditionally return different types here based on the context.\n    // To avoid confusion, we always return the readonly type here.\n    return requestStore.mutableCookies;\n  }\n  return requestStore.cookies;\n}\nfunction draftMode() {\n  const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n  if (!requestStore) {\n    throw new Error(\"Invariant: draftMode() expects to have requestAsyncStorage, none available.\");\n  }\n  return new _draftmode.DraftMode(requestStore.draftMode);\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["headers","cookies","draftMode","_staticgenerationbailout","staticGenerationBailout","link","_headers","HeadersAdapter","seal","Headers","requestStore","_requestasyncstorageexternal","requestAsyncStorage","getStore","Error","_requestcookies","RequestCookiesAdapter","_cookies","RequestCookies","asyncActionStore","_actionasyncstorageexternal","actionAsyncStorage","isAction","isAppRoute","mutableCookies","_draftmode","DraftMode"],"sources":["../../../src/client/components/headers.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EAWgBA,OAAO,WAAAA,CAAA;WAAPA,OAAA;;EAkBAC,OAAO,WAAAA,CAAA;WAAPA,OAAA;;EA6BAC,SAAS,WAAAA,CAAA;WAATA,SAAA;;;gCAvDT;yBACwB;yBACA;6CACK;4CACD;yCACK;2BACd;AAEnB,SAASF,QAAA;EACd,IACE,IAAAG,wBAAA,CAAAC,uBAAuB,EAAC,WAAW;IACjCC,IAAA,EAAM;EACR,IACA;IACA,OAAOC,QAAA,CAAAC,cAAc,CAACC,IAAI,CAAC,IAAIC,OAAA,CAAQ,CAAC;EAC1C;EACA,MAAMC,YAAA,GAAeC,4BAAA,CAAAC,mBAAmB,CAACC,QAAQ;EACjD,IAAI,CAACH,YAAA,EAAc;IACjB,MAAM,IAAII,KAAA,CACP;EAEL;EAEA,OAAOJ,YAAA,CAAaV,OAAO;AAC7B;AAEO,SAASC,QAAA;EACd,IACE,IAAAE,wBAAA,CAAAC,uBAAuB,EAAC,WAAW;IACjCC,IAAA,EAAM;EACR,IACA;IACA,OAAOU,eAAA,CAAAC,qBAAqB,CAACR,IAAI,CAAC,IAAIS,QAAA,CAAAC,cAAc,CAAC,IAAIT,OAAA,CAAQ,CAAC;EACpE;EAEA,MAAMC,YAAA,GAAeC,4BAAA,CAAAC,mBAAmB,CAACC,QAAQ;EACjD,IAAI,CAACH,YAAA,EAAc;IACjB,MAAM,IAAII,KAAA,CACP;EAEL;EAEA,MAAMK,gBAAA,GAAmBC,2BAAA,CAAAC,kBAAkB,CAACR,QAAQ;EACpD,IACEM,gBAAA,KACCA,gBAAA,CAAiBG,QAAQ,IAAIH,gBAAA,CAAiBI,UAAU,CAAD,EACxD;IACA;IACA;IACA,OAAOb,YAAA,CAAac,cAAc;EACpC;EAEA,OAAOd,YAAA,CAAaT,OAAO;AAC7B;AAEO,SAASC,UAAA;EACd,MAAMQ,YAAA,GAAeC,4BAAA,CAAAC,mBAAmB,CAACC,QAAQ;EACjD,IAAI,CAACH,YAAA,EAAc;IACjB,MAAM,IAAII,KAAA,CACP;EAEL;EACA,OAAO,IAAIW,UAAA,CAAAC,SAAS,CAAChB,YAAA,CAAaR,SAAS;AAC7C"},"metadata":{},"sourceType":"script","externalDependencies":[]}