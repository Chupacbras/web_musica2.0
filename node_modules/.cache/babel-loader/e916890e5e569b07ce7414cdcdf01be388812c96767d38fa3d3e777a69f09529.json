{"ast":null,"code":"var _jsxFileName = \"/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js\";\nimport React from 'react';\nimport { Howl } from 'howler';\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\nimport './Estilos/music-player.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MusicPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playTrack = () => {\n      const {\n        currentTrack,\n        sound\n      } = this.state;\n      if (sound) {\n        sound.unload();\n      }\n      const currentFileName = this.props.audioFiles[currentTrack];\n      const newSound = new Howl({\n        src: [this.props.audioFiles[currentTrack]],\n        onend: () => {\n          this.playNextTrack();\n        }\n      });\n      newSound.play();\n      this.setState({\n        sound: newSound,\n        isPlaying: true,\n        currentFileName: currentFileName\n      });\n    };\n    this.togglePlay = () => {\n      const {\n        isPlaying,\n        sound\n      } = this.state;\n      if (isPlaying) {\n        sound.pause();\n      } else {\n        sound.play();\n      }\n      this.setState({\n        isPlaying: !isPlaying\n      });\n    };\n    this.playPreviousTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.playNextTrack = () => {\n      const {\n        currentTrack\n      } = this.state;\n      const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\n      this.setState({\n        currentTrack: newTrack\n      }, () => {\n        this.playTrack();\n      });\n    };\n    this.onMouseDown = e => {\n      const offsetX = e.clientX - this.state.positionX;\n      const offsetY = e.clientY - this.state.positionY;\n      this.setState({\n        offsetX,\n        offsetY,\n        dragging: true\n      });\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    };\n    this.onMouseMove = e => {\n      if (this.state.dragging) {\n        const positionX = e.clientX - this.state.offsetX;\n        const positionY = e.clientY - this.state.offsetY;\n        this.setState({\n          positionX,\n          positionY\n        });\n      }\n    };\n    this.onMouseUp = () => {\n      this.setState({\n        dragging: false\n      });\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    };\n    const initialSound = new Howl({\n      src: []\n    });\n    this.state = {\n      isPlaying: false,\n      currentTrack: 0,\n      sound: null,\n      positionX: 0,\n      positionY: 0,\n      dragging: false,\n      currentFileName: ''\n    };\n  }\n  componentDidMount() {\n    this.playTrack();\n  }\n  // Resto del código del componente (métodos playTrack, playNextTrack, etc.)\n\n  render() {\n    const {\n      isPlaying,\n      positionX,\n      positionY,\n      dragging,\n      currentFileName\n    } = this.state;\n    const style = {\n      transform: `translate(${positionX}px, ${positionY}px)`,\n      cursor: dragging ? 'grabbing' : 'grab',\n      position: 'absolute',\n      bottom: '0',\n      right: '0'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"music-player\",\n      style: style,\n      onMouseDown: this.onMouseDown,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-file\",\n          children: currentFileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playPreviousTrack,\n          children: /*#__PURE__*/_jsxDEV(FaBackward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.togglePlay,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(FaPause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.playNextTrack,\n          children: /*#__PURE__*/_jsxDEV(FaForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MusicPlayer;","map":{"version":3,"names":["React","Howl","FaPlay","FaPause","FaForward","FaBackward","jsxDEV","_jsxDEV","MusicPlayer","Component","constructor","props","playTrack","currentTrack","sound","state","unload","currentFileName","audioFiles","newSound","src","onend","playNextTrack","play","setState","isPlaying","togglePlay","pause","playPreviousTrack","newTrack","length","onMouseDown","e","offsetX","clientX","positionX","offsetY","clientY","positionY","dragging","document","addEventListener","onMouseMove","onMouseUp","removeEventListener","initialSound","componentDidMount","render","style","transform","cursor","position","bottom","right","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/albertformatger/Documents/GitHub/web_musica/src/MusicPlayer.js"],"sourcesContent":["import React from 'react';\r\nimport { Howl } from 'howler';\r\nimport { FaPlay, FaPause, FaForward, FaBackward } from 'react-icons/fa';\r\nimport './Estilos/music-player.css';\r\n\r\nclass MusicPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const initialSound = new Howl({ src: [] });\r\n    this.state = {\r\n      isPlaying: false,\r\n      currentTrack: 0,\r\n      sound: null,\r\n      positionX: 0,\r\n      positionY: 0,\r\n      dragging: false,\r\n      currentFileName: '',\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.playTrack();\r\n  }\r\n\r\n  playTrack = () => {\r\n    const { currentTrack, sound } = this.state;\r\n\r\n    if (sound) {\r\n      sound.unload();\r\n    }\r\n\r\n    const currentFileName = this.props.audioFiles[currentTrack];\r\n\r\n    const newSound = new Howl({\r\n      src: [this.props.audioFiles[currentTrack]],\r\n      onend: () => {\r\n        this.playNextTrack();\r\n      },\r\n    });\r\n\r\n    newSound.play();\r\n\r\n    this.setState({\r\n      sound: newSound,\r\n      isPlaying: true,\r\n      currentFileName: currentFileName,\r\n    });\r\n  };\r\n\r\n  togglePlay = () => {\r\n    const { isPlaying, sound } = this.state;\r\n    if (isPlaying) {\r\n      sound.pause();\r\n    } else {\r\n      sound.play();\r\n    }\r\n\r\n    this.setState({\r\n      isPlaying: !isPlaying,\r\n    });\r\n  };\r\n\r\n  playPreviousTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack - 1 + this.props.audioFiles.length) % this.props.audioFiles.length;\r\n    this.setState({\r\n      currentTrack: newTrack,\r\n    }, () => {\r\n      this.playTrack();\r\n    });\r\n  };\r\n\r\n  playNextTrack = () => {\r\n    const { currentTrack } = this.state;\r\n    const newTrack = (currentTrack + 1) % this.props.audioFiles.length;\r\n    this.setState({\r\n      currentTrack: newTrack,\r\n    }, () => {\r\n      this.playTrack();\r\n    });\r\n  };\r\n\r\n  onMouseDown = (e) => {\r\n    const offsetX = e.clientX - this.state.positionX;\r\n    const offsetY = e.clientY - this.state.positionY;\r\n    this.setState({ offsetX, offsetY, dragging: true });\r\n\r\n    document.addEventListener('mousemove', this.onMouseMove);\r\n    document.addEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n  onMouseMove = (e) => {\r\n    if (this.state.dragging) {\r\n      const positionX = e.clientX - this.state.offsetX;\r\n      const positionY = e.clientY - this.state.offsetY;\r\n      this.setState({ positionX, positionY });\r\n    }\r\n  };\r\n\r\n  onMouseUp = () => {\r\n    this.setState({ dragging: false });\r\n\r\n    document.removeEventListener('mousemove', this.onMouseMove);\r\n    document.removeEventListener('mouseup', this.onMouseUp);\r\n  };\r\n\r\n\r\n  // Resto del código del componente (métodos playTrack, playNextTrack, etc.)\r\n\r\n  render() {\r\n    const { isPlaying, positionX, positionY, dragging, currentFileName } = this.state;\r\n    const style = {\r\n      transform: `translate(${positionX}px, ${positionY}px)`,\r\n      cursor: dragging ? 'grabbing' : 'grab',\r\n      position: 'absolute',\r\n      bottom: '0',\r\n      right: '0',\r\n    };\r\n\r\n    return (\r\n      <div className=\"music-player\" style={style} onMouseDown={this.onMouseDown}>\r\n        <div className=\"controls\">\r\n          <span className=\"current-file\">{currentFileName}</span>\r\n          <button onClick={this.playPreviousTrack}>\r\n            <FaBackward />\r\n          </button>\r\n          <button onClick={this.togglePlay}>\r\n            {isPlaying ? <FaPause /> : <FaPlay />}\r\n          </button>\r\n          <button onClick={this.playNextTrack}>\r\n            <FaForward />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MusicPlayer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}