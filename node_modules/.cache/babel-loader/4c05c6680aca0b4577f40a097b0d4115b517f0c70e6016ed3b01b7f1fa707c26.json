{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RouteMatcher\", {\n  enumerable: true,\n  get: function () {\n    return RouteMatcher;\n  }\n});\nconst _utils = require(\"../../../shared/lib/router/utils\");\nconst _routematcher = require(\"../../../shared/lib/router/utils/route-matcher\");\nconst _routeregex = require(\"../../../shared/lib/router/utils/route-regex\");\nclass RouteMatcher {\n  constructor(definition) {\n    this.definition = definition;\n    if ((0, _utils.isDynamicRoute)(definition.pathname)) {\n      this.dynamic = (0, _routematcher.getRouteMatcher)((0, _routeregex.getRouteRegex)(definition.pathname));\n    }\n  }\n  /**\n  * Identity returns the identity part of the matcher. This is used to compare\n  * a unique matcher to another. This is also used when sorting dynamic routes,\n  * so it must contain the pathname part.\n  */\n  get identity() {\n    return this.definition.pathname;\n  }\n  get isDynamic() {\n    return this.dynamic !== undefined;\n  }\n  match(pathname) {\n    const result = this.test(pathname);\n    if (!result) return null;\n    return {\n      definition: this.definition,\n      params: result.params\n    };\n  }\n  test(pathname) {\n    if (this.dynamic) {\n      const params = this.dynamic(pathname);\n      if (!params) return null;\n      return {\n        params\n      };\n    }\n    if (pathname === this.definition.pathname) {\n      return {};\n    }\n    return null;\n  }\n}","map":{"version":3,"names":["RouteMatcher","constructor","definition","_utils","isDynamicRoute","pathname","dynamic","_routematcher","getRouteMatcher","_routeregex","getRouteRegex","identity","isDynamic","undefined","match","result","test","params"],"sources":["../../../../src/server/future/route-matchers/route-matcher.ts"],"sourcesContent":[null],"mappings":";;;;;+BAca;;;WAAAA,YAAA;;;uBAXkB;8BAIxB;4BACuB;AAMvB,MAAMA,YAAA;EAUXC,YAA4BC,UAAA,EAAe;sBAAfA,UAAA;IAC1B,IAAI,IAAAC,MAAA,CAAAC,cAAc,EAACF,UAAA,CAAWG,QAAQ,GAAG;MACvC,IAAI,CAACC,OAAO,GAAG,IAAAC,aAAA,CAAAC,eAAe,EAAC,IAAAC,WAAA,CAAAC,aAAa,EAACR,UAAA,CAAWG,QAAQ;IAClE;EACF;EAEA;;;;;EAKA,IAAWM,SAAA,EAAmB;IAC5B,OAAO,IAAI,CAACT,UAAU,CAACG,QAAQ;EACjC;EAEA,IAAWO,UAAA,EAAY;IACrB,OAAO,IAAI,CAACN,OAAO,KAAKO,SAAA;EAC1B;EAEOC,MAAMT,QAAgB,EAAwB;IACnD,MAAMU,MAAA,GAAS,IAAI,CAACC,IAAI,CAACX,QAAA;IACzB,IAAI,CAACU,MAAA,EAAQ,OAAO;IAEpB,OAAO;MAAEb,UAAA,EAAY,IAAI,CAACA,UAAU;MAAEe,MAAA,EAAQF,MAAA,CAAOE;IAAO;EAC9D;EAEOD,KAAKX,QAAgB,EAA2B;IACrD,IAAI,IAAI,CAACC,OAAO,EAAE;MAChB,MAAMW,MAAA,GAAS,IAAI,CAACX,OAAO,CAACD,QAAA;MAC5B,IAAI,CAACY,MAAA,EAAQ,OAAO;MAEpB,OAAO;QAAEA;MAAO;IAClB;IAEA,IAAIZ,QAAA,KAAa,IAAI,CAACH,UAAU,CAACG,QAAQ,EAAE;MACzC,OAAO,CAAC;IACV;IAEA,OAAO;EACT;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}