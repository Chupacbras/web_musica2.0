{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return RenderResult;\n  }\n});\nconst _pipereadable = require(\"./pipe-readable\");\nclass RenderResult {\n  /**\n  * Creates a new RenderResult instance from a static response.\n  *\n  * @param value the static response value\n  * @returns a new RenderResult instance\n  */\n  static fromStatic(value) {\n    return new RenderResult(value);\n  }\n  constructor(response, {\n    contentType,\n    ...metadata\n  } = {}) {\n    this.response = response;\n    this.contentType = contentType;\n    this.metadata = metadata;\n  }\n  extendMetadata(metadata) {\n    Object.assign(this.metadata, metadata);\n  }\n  /**\n  * Returns true if the response is null. It can be null if the response was\n  * not found or was already sent.\n  */\n  get isNull() {\n    return this.response === null;\n  }\n  /**\n  * Returns false if the response is a string. It can be a string if the page\n  * was prerendered. If it's not, then it was generated dynamically.\n  */\n  get isDynamic() {\n    return typeof this.response !== \"string\";\n  }\n  /**\n  * Returns true if the response is a stream. If the page was dynamic, this\n  * will throw an error.\n  *\n  * @returns The response as a string\n  */\n  toUnchunkedString() {\n    if (typeof this.response !== \"string\") {\n      throw new Error(\"Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js\");\n    }\n    return this.response;\n  }\n  async pipe(res) {\n    if (this.response === null) {\n      throw new Error(\"Invariant: response is null. This is a bug in Next.js\");\n    }\n    if (typeof this.response === \"string\") {\n      throw new Error(\"Invariant: static responses cannot be piped. This is a bug in Next.js\");\n    }\n    return await (0, _pipereadable.pipeReadable)(this.response, res);\n  }\n}","map":{"version":3,"names":["RenderResult","fromStatic","value","constructor","response","contentType","metadata","extendMetadata","Object","assign","isNull","isDynamic","toUnchunkedString","Error","pipe","res","_pipereadable","pipeReadable"],"sources":["../../src/server/render-result.ts"],"sourcesContent":[null],"mappings":";;;;;+BAkBA;;;WAAqBA,YAAA;;;8BAjBoB;AAiB1B,MAAMA,YAAA;EAqBnB;;;;;;EAMA,OAAcC,WAAWC,KAAa,EAAgB;IACpD,OAAO,IAAIF,YAAA,CAAaE,KAAA;EAC1B;EAEAC,YACEC,QAA8B,EAC9B;IACEC,WAAW;IACX,GAAGC;EAAA,CAGmB,GAAG,CAAC,CAAC,EAC7B;IACA,IAAI,CAACF,QAAQ,GAAGA,QAAA;IAChB,IAAI,CAACC,WAAW,GAAGA,WAAA;IACnB,IAAI,CAACC,QAAQ,GAAGA,QAAA;EAClB;EAEOC,eAAeD,QAA8B,EAAE;IACpDE,MAAA,CAAOC,MAAM,CAAC,IAAI,CAACH,QAAQ,EAAEA,QAAA;EAC/B;EAEA;;;;EAIA,IAAWI,OAAA,EAAkB;IAC3B,OAAO,IAAI,CAACN,QAAQ,KAAK;EAC3B;EAEA;;;;EAIA,IAAWO,UAAA,EAAqB;IAC9B,OAAO,OAAO,IAAI,CAACP,QAAQ,KAAK;EAClC;EAEA;;;;;;EAMAQ,iBAAOA,CAAA,EAA4B;IACjC,IAAI,OAAO,IAAI,CAACR,QAAQ,KAAK,UAAU;MACrC,MAAM,IAAIS,KAAA,CACR;IAEJ;IAEA,OAAO,IAAI,CAACT,QAAQ;EACtB;EAEA,MAAaU,KAAKC,GAA2B,EAAiB;IAC5D,IAAI,IAAI,CAACX,QAAQ,KAAK,MAAM;MAC1B,MAAM,IAAIS,KAAA,CAAM;IAClB;IACA,IAAI,OAAO,IAAI,CAACT,QAAQ,KAAK,UAAU;MACrC,MAAM,IAAIS,KAAA,CACR;IAEJ;IAEA,OAAO,MAAM,IAAAG,aAAA,CAAAC,YAAY,EAAC,IAAI,CAACb,QAAQ,EAAEW,GAAA;EAC3C;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}